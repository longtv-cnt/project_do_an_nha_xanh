!function (n, t, i, r) { "use strict"; function o(n) { var r = n.currentTarget, f = n.data ? n.data.options : {}, t = f.selector ? i(f.selector) : n.data ? n.data.items : [], e = i(r).attr("data-fancybox") || "", u = 0, o = i.fancybox.getInstance(); n.preventDefault(); o && o.current.opts.$orig.is(r) || (e ? (t = t.length ? t.filter('[data-fancybox="' + e + '"]') : i('[data-fancybox="' + e + '"]'), u = t.index(r), u < 0 && (u = 0)) : t = [r], i.fancybox.open(t, f, u)) } if (i) { if (i.fn.fancybox) return void i.error("fancyBox already initialized"); var c = { loop: !1, margin: [44, 0], gutter: 50, keyboard: !0, arrows: !0, infobar: !1, toolbar: !0, buttons: ["slideShow", "fullScreen", "thumbs", "close"], idleTime: 4, smallBtn: "auto", protect: !1, modal: !1, image: { preload: "auto" }, ajax: { settings: { data: { fancybox: !0 } } }, iframe: { tpl: '<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""><\/iframe>', preload: !0, css: {}, attr: { scrolling: "auto" } }, animationEffect: "zoom", animationDuration: 366, zoomOpacity: "auto", transitionEffect: "fade", transitionDuration: 366, slideClass: "", baseClass: "", baseTpl: '<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"><\/div><div class="fancybox-inner"><div class="fancybox-infobar"><button data-fancybox-prev title="{{PREV}}" class="fancybox-button fancybox-button--left"><\/button><div class="fancybox-infobar__body"><span data-fancybox-index><\/span>&nbsp;/&nbsp;<span data-fancybox-count><\/span><\/div><button data-fancybox-next title="{{NEXT}}" class="fancybox-button fancybox-button--right"><\/button><\/div><div class="fancybox-toolbar">{{BUTTONS}}<\/div><div class="fancybox-navigation"><button data-fancybox-prev title="{{PREV}}" class="fancybox-arrow fancybox-arrow--left" /><button data-fancybox-next title="{{NEXT}}" class="fancybox-arrow fancybox-arrow--right" /><\/div><div class="fancybox-stage"><\/div><div class="fancybox-caption-wrap"><div class="fancybox-caption"><\/div><\/div><\/div><\/div>', spinnerTpl: '<div class="fancybox-loading"><\/div>', errorTpl: '<div class="fancybox-error"><p>{{ERROR}}<p><\/div>', btnTpl: { slideShow: '<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><\/button>', fullScreen: '<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"><\/button>', thumbs: '<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><\/button>', close: '<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><\/button>', smallBtn: '<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"><\/button>' }, parentEl: "body", autoFocus: !0, backFocus: !0, trapFocus: !0, fullScreen: { autoStart: !1 }, touch: { vertical: !0, momentum: !0 }, hash: !1, media: {}, slideShow: { autoStart: !1, speed: 4e3 }, thumbs: { autoStart: !0, hideOnClose: !0 }, onInit: i.noop, beforeLoad: i.noop, afterLoad: i.noop, beforeShow: i.noop, afterShow: i.noop, beforeClose: i.noop, afterClose: i.noop, onActivate: i.noop, onDeactivate: i.noop, clickContent: function (n) { return "image" === n.type && "zoom" }, clickSlide: "close", clickOutside: "close", dblclickContent: !1, dblclickSlide: !1, dblclickOutside: !1, mobile: { clickContent: function (n) { return "image" === n.type && "toggleControls" }, clickSlide: function (n) { return "image" === n.type ? "toggleControls" : "close" }, dblclickContent: function (n) { return "image" === n.type && "zoom" }, dblclickSlide: function (n) { return "image" === n.type && "zoom" } }, lang: "en", i18n: { en: { CLOSE: "Close", NEXT: "Next", PREV: "Previous", ERROR: "The requested content cannot be loaded. <br/> Please try again later.", PLAY_START: "Start slideshow", PLAY_STOP: "Pause slideshow", FULL_SCREEN: "Full screen", THUMBS: "Thumbnails" }, de: { CLOSE: "Schliessen", NEXT: "Weiter", PREV: "Zurück", ERROR: "Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.", PLAY_START: "Diaschau starten", PLAY_STOP: "Diaschau beenden", FULL_SCREEN: "Vollbild", THUMBS: "Vorschaubilder" } } }, f = i(n), u = i(t), a = 0, v = function (n) { return n && n.hasOwnProperty && n instanceof i }, l = function () { return n.requestAnimationFrame || n.webkitRequestAnimationFrame || n.mozRequestAnimationFrame || n.oRequestAnimationFrame || function (t) { return n.setTimeout(t, 1e3 / 60) } }(), s = function () { var n, u = t.createElement("fakeelement"), i = { transition: "transitionend", OTransition: "oTransitionEnd", MozTransition: "transitionend", WebkitTransition: "webkitTransitionEnd" }; for (n in i) if (u.style[n] !== r) return i[n] }(), e = function (n) { return n && n.length && n[0].offsetHeight }, h = function (n, r, u) { var f = this; f.opts = i.extend(!0, { index: u }, c, r || {}); r && i.isArray(r.buttons) && (f.opts.buttons = r.buttons); f.id = f.opts.id || ++a; f.group = []; f.currIndex = parseInt(f.opts.index, 10) || 0; f.prevIndex = null; f.prevPos = null; f.currPos = 0; f.firstRun = null; f.createGroup(n); f.group.length && (f.$lastFocus = i(t.activeElement).blur(), f.slides = {}, f.init(n)) }; i.extend(h.prototype, { init: function () { var r, f, e, n = this, t = n.group[n.currIndex].opts; n.scrollTop = u.scrollTop(); n.scrollLeft = u.scrollLeft(); i.fancybox.getInstance() || i.fancybox.isMobile || "hidden" === i("body").css("overflow") || (r = i("body").width(), i("html").addClass("fancybox-enabled"), r = i("body").width() - r, r > 1 && i("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar, .fancybox-enabled body { margin-right: ' + r + "px; }<\/style>")); e = ""; i.each(t.buttons, function (n, i) { e += t.btnTpl[i] || "" }); f = i(n.translate(n, t.baseTpl.replace("{{BUTTONS}}", e))).addClass("fancybox-is-hidden").attr("id", "fancybox-container-" + n.id).addClass(t.baseClass).data("FancyBox", n).prependTo(t.parentEl); n.$refs = { container: f };["bg", "inner", "infobar", "toolbar", "stage", "caption"].forEach(function (t) { n.$refs[t] = f.find(".fancybox-" + t) }); (!t.arrows || n.group.length < 2) && f.find(".fancybox-navigation").remove(); t.infobar || n.$refs.infobar.remove(); t.toolbar || n.$refs.toolbar.remove(); n.trigger("onInit"); n.activate(); n.jumpTo(n.currIndex) }, translate: function (n, t) { var i = n.opts.i18n[n.opts.lang]; return t.replace(/\{\{(\w+)\}\}/g, function (n, t) { var u = i[t]; return u === r ? n : u }) }, createGroup: function (n) { var t = this, u = i.makeArray(n); i.each(u, function (n, u) { var c, s, h, l, f = {}, o = {}, e = []; i.isPlainObject(u) ? (f = u, o = u.opts || u) : "object" === i.type(u) && i(u).length ? (c = i(u), e = c.data(), o = "options" in e ? e.options : {}, o = "object" === i.type(o) ? o : {}, f.src = "src" in e ? e.src : o.src || c.attr("href"), ["width", "height", "thumb", "type", "filter"].forEach(function (n) { n in e && (o[n] = e[n]) }), "srcset" in e && (o.image = { srcset: e.srcset }), o.$orig = c, f.type || f.src || (f.type = "inline", f.src = u)) : f = { type: "html", src: u + "" }; f.opts = i.extend(!0, {}, t.opts, o); i.fancybox.isMobile && (f.opts = i.extend(!0, {}, f.opts, f.opts.mobile)); s = f.type || f.opts.type; h = f.src || ""; !s && h && (h.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i) ? s = "image" : h.match(/\.(pdf)((\?|#).*)?$/i) ? s = "pdf" : "#" === h.charAt(0) && (s = "inline")); f.type = s; f.index = t.group.length; f.opts.$orig && !f.opts.$orig.length && delete f.opts.$orig; !f.opts.$thumb && f.opts.$orig && (f.opts.$thumb = f.opts.$orig.find("img:first")); f.opts.$thumb && !f.opts.$thumb.length && delete f.opts.$thumb; "function" === i.type(f.opts.caption) ? f.opts.caption = f.opts.caption.apply(u, [t, f]) : "caption" in e && (f.opts.caption = e.caption); f.opts.caption = f.opts.caption === r ? "" : f.opts.caption + ""; "ajax" === s && (l = h.split(/\s+/, 2), l.length > 1 && (f.src = l.shift(), f.opts.filter = l.shift())); "auto" == f.opts.smallBtn && (i.inArray(s, ["html", "inline", "ajax"]) > -1 ? (f.opts.toolbar = !1, f.opts.smallBtn = !0) : f.opts.smallBtn = !1); "pdf" === s && (f.type = "iframe", f.opts.iframe.preload = !1); f.opts.modal && (f.opts = i.extend(!0, f.opts, { infobar: 0, toolbar: 0, smallBtn: 0, keyboard: 0, slideShow: 0, fullScreen: 0, thumbs: 0, touch: 0, clickContent: !1, clickSlide: !1, clickOutside: !1, dblclickContent: !1, dblclickSlide: !1, dblclickOutside: !1 })); t.group.push(f) }) }, addEvents: function () { var r = this; r.removeEvents(); r.$refs.container.on("click.fb-close", "[data-fancybox-close]", function (n) { n.stopPropagation(); n.preventDefault(); r.close(n) }).on("click.fb-prev touchend.fb-prev", "[data-fancybox-prev]", function (n) { n.stopPropagation(); n.preventDefault(); r.previous() }).on("click.fb-next touchend.fb-next", "[data-fancybox-next]", function (n) { n.stopPropagation(); n.preventDefault(); r.next() }); f.on("orientationchange.fb resize.fb", function (n) { n && n.originalEvent && "resize" === n.originalEvent.type ? l(function () { r.update() }) : (r.$refs.stage.hide(), setTimeout(function () { r.$refs.stage.show(); r.update() }, 500)) }); u.on("focusin.fb", function (n) { var u = i.fancybox ? i.fancybox.getInstance() : null; u.isClosing || !u.current || !u.current.opts.trapFocus || i(n.target).hasClass("fancybox-container") || i(n.target).is(t) || u && "fixed" !== i(n.target).css("position") && !u.$refs.container.has(n.target).length && (n.stopPropagation(), u.focus(), f.scrollTop(r.scrollTop).scrollLeft(r.scrollLeft)) }); u.on("keydown.fb", function (n) { var u = r.current, t = n.keyCode || n.which; if (u && u.opts.keyboard && !i(n.target).is("input") && !i(n.target).is("textarea")) return 8 === t || 27 === t ? (n.preventDefault(), void r.close(n)) : 37 === t || 38 === t ? (n.preventDefault(), void r.previous()) : 39 === t || 40 === t ? (n.preventDefault(), void r.next()) : void r.trigger("afterKeydown", n, t) }); r.group[r.currIndex].opts.idleTime && (r.idleSecondsCounter = 0, u.on("mousemove.fb-idle mouseenter.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle", function () { r.idleSecondsCounter = 0; r.isIdle && r.showControls(); r.isIdle = !1 }), r.idleInterval = n.setInterval(function () { r.idleSecondsCounter++; r.idleSecondsCounter >= r.group[r.currIndex].opts.idleTime && (r.isIdle = !0, r.idleSecondsCounter = 0, r.hideControls()) }, 1e3)) }, removeEvents: function () { var t = this; f.off("orientationchange.fb resize.fb"); u.off("focusin.fb keydown.fb .fb-idle"); this.$refs.container.off(".fb-close .fb-prev .fb-next"); t.idleInterval && (n.clearInterval(t.idleInterval), t.idleInterval = null) }, previous: function (n) { return this.jumpTo(this.currPos - 1, n) }, next: function (n) { return this.jumpTo(this.currPos + 1, n) }, jumpTo: function (n, t) { var h, c, f, o, v, a, s, u = this, l = u.group.length; if (!(u.isSliding || u.isClosing || u.isAnimating && u.firstRun)) { if (n = parseInt(n, 10), c = u.current ? u.current.opts.loop : u.opts.loop, !c && (n < 0 || n >= l)) return !1; if (h = u.firstRun = null === u.firstRun, !(l < 2 && !h && u.isSliding)) { if (o = u.current, u.prevIndex = u.currIndex, u.prevPos = u.currPos, f = u.createSlide(n), l > 1 && ((c || f.index > 0) && u.createSlide(n - 1), (c || f.index < l - 1) && u.createSlide(n + 1)), u.current = f, u.currIndex = f.index, u.currPos = f.pos, u.trigger("beforeShow", h), u.updateControls(), a = i.fancybox.getTranslate(f.$slide), f.isMoved = (0 !== a.left || 0 !== a.top) && !f.$slide.hasClass("fancybox-animated"), f.forcedDuration = r, i.isNumeric(t) ? f.forcedDuration = t : t = f.opts[h ? "animationDuration" : "transitionDuration"], t = parseInt(t, 10), h) return f.opts.animationEffect && t && u.$refs.container.css("transition-duration", t + "ms"), u.$refs.container.removeClass("fancybox-is-hidden"), e(u.$refs.container), u.$refs.container.addClass("fancybox-is-open"), f.$slide.addClass("fancybox-slide--current"), u.loadSlide(f), void u.preload(); i.each(u.slides, function (n, t) { i.fancybox.stop(t.$slide) }); f.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current"); f.isMoved ? (v = Math.round(f.$slide.width()), i.each(u.slides, function (n, r) { var e = r.pos - f.pos; i.fancybox.animate(r.$slide, { top: 0, left: e * v + e * r.opts.gutter }, t, function () { r.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous"); r.pos === u.currPos && (f.isMoved = !1, u.complete()) }) })) : u.$refs.stage.children().removeAttr("style"); f.isLoaded ? u.revealContent(f) : u.loadSlide(f); u.preload(); o.pos !== f.pos && (s = "fancybox-slide--" + (o.pos > f.pos ? "next" : "previous"), o.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"), o.isComplete = !1, t && (f.isMoved || f.opts.transitionEffect) && (f.isMoved ? o.$slide.addClass(s) : (s = "fancybox-animated " + s + " fancybox-fx-" + f.opts.transitionEffect, i.fancybox.animate(o.$slide, s, t, function () { o.$slide.removeClass(s).removeAttr("style") })))) } } }, createSlide: function (n) { var u, r, t = this; return r = n % t.group.length, r = r < 0 ? t.group.length + r : r, !t.slides[n] && t.group[r] && (u = i('<div class="fancybox-slide"><\/div>').appendTo(t.$refs.stage), t.slides[n] = i.extend(!0, {}, t.group[r], { pos: n, $slide: u, isLoaded: !1 }), t.updateSlide(t.slides[n])), t.slides[n] }, scaleToActual: function (n, t, u) { var l, e, o, y, p, f = this, s = f.current, w = s.$content, a = parseInt(s.$slide.width(), 10), v = parseInt(s.$slide.height(), 10), h = s.width, c = s.height; "image" != s.type || s.hasError || !w || f.isAnimating || (i.fancybox.stop(w), f.isAnimating = !0, n = n === r ? .5 * a : n, t = t === r ? .5 * v : t, l = i.fancybox.getTranslate(w), y = h / l.width, p = c / l.height, e = .5 * a - .5 * h, o = .5 * v - .5 * c, h > a && (e = l.left * y - (n * y - n), e > 0 && (e = 0), e < a - h && (e = a - h)), c > v && (o = l.top * p - (t * p - t), o > 0 && (o = 0), o < v - c && (o = v - c)), f.updateCursor(h, c), i.fancybox.animate(w, { top: o, left: e, scaleX: y, scaleY: p }, u || 330, function () { f.isAnimating = !1 }), f.SlideShow && f.SlideShow.isActive && f.SlideShow.stop()) }, scaleToFit: function (n) { var t, r = this, f = r.current, u = f.$content; "image" != f.type || f.hasError || !u || r.isAnimating || (i.fancybox.stop(u), r.isAnimating = !0, t = r.getFitPos(f), r.updateCursor(t.width, t.height), i.fancybox.animate(u, { top: t.top, left: t.left, scaleX: t.width / u.width(), scaleY: t.height / u.height() }, n || 330, function () { r.isAnimating = !1 })) }, getFitPos: function (n) { var r, u, e, o, s, l = this, a = n.$content, h = n.width, c = n.height, t = n.opts.margin; return !(!a || !a.length || !h && !c) && ("number" === i.type(t) && (t = [t, t]), 2 == t.length && (t = [t[0], t[1], t[0], t[1]]), f.width() < 800 && (t = [0, 0, 0, 0]), r = parseInt(l.$refs.stage.width(), 10) - (t[1] + t[3]), u = parseInt(l.$refs.stage.height(), 10) - (t[0] + t[2]), e = Math.min(1, r / h, u / c), o = Math.floor(e * h), s = Math.floor(e * c), { top: Math.floor(.5 * (u - s)) + t[0], left: Math.floor(.5 * (r - o)) + t[3], width: o, height: s }) }, update: function () { var n = this; i.each(n.slides, function (t, i) { n.updateSlide(i) }) }, updateSlide: function (n) { var t = this, r = n.$content; r && (n.width || n.height) && (i.fancybox.stop(r), i.fancybox.setTranslate(r, t.getFitPos(n)), n.pos === t.currPos && t.updateCursor()); n.$slide.trigger("refresh"); t.trigger("onUpdate", n) }, updateCursor: function (n, t) { var f, i = this, u = i.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut"); i.current && !i.isClosing && (i.isZoomable() ? (u.addClass("fancybox-is-zoomable"), f = n !== r && t !== r ? n < i.current.width && t < i.current.height : i.isScaledDown(), f ? u.addClass("fancybox-can-zoomIn") : i.current.opts.touch ? u.addClass("fancybox-can-drag") : u.addClass("fancybox-can-zoomOut")) : i.current.opts.touch && u.addClass("fancybox-can-drag")) }, isZoomable: function () { var t, r = this, n = r.current; if (n && !r.isClosing) return !!("image" === n.type && n.isLoaded && !n.hasError && ("zoom" === n.opts.clickContent || i.isFunction(n.opts.clickContent) && "zoom" === n.opts.clickContent(n)) && (t = r.getFitPos(n), n.width > t.width || n.height > t.height)) }, isScaledDown: function () { var u = this, t = u.current, r = t.$content, n = !1; return r && (n = i.fancybox.getTranslate(r), n = n.width < t.width || n.height < t.height), n }, canPan: function () { var i = this, r = i.current, t = r.$content, n = !1; return t && (n = i.getFitPos(r), n = Math.abs(t.width() - n.width) > 1 || Math.abs(t.height() - n.height) > 1), n }, loadSlide: function (n) { var r, u, f, t = this; if (!n.isLoading && !n.isLoaded) { switch (n.isLoading = !0, t.trigger("beforeLoad", n), r = n.type, u = n.$slide, u.off("refresh").trigger("onReset").addClass("fancybox-slide--" + (r || "unknown")).addClass(n.opts.slideClass), r) { case "image": t.setImage(n); break; case "iframe": t.setIframe(n); break; case "html": t.setContent(n, n.src || n.content); break; case "inline": i(n.src).length ? t.setContent(n, i(n.src)) : t.setError(n); break; case "ajax": t.showLoading(n); f = i.ajax(i.extend({}, n.opts.ajax.settings, { url: n.src, success: function (i, r) { "success" === r && t.setContent(n, i) }, error: function (i, r) { i && "abort" !== r && t.setError(n) } })); u.one("onReset", function () { f.abort() }); break; default: t.setError(n) } return !0 } }, setImage: function (t) { var r, u, s, h, e = this, c = t.opts.image.srcset, o, f; if (c) { for (s = n.devicePixelRatio || 1, h = n.innerWidth * s, u = c.split(",").map(function (n) { var t = {}; return n.trim().split(/\s+/).forEach(function (n, i) { var r = parseInt(n.substring(0, n.length - 1), 10); return 0 === i ? t.url = n : void (r && (t.value = r, t.postfix = n[n.length - 1])) }), t }), u.sort(function (n, t) { return n.value - t.value }), o = 0; o < u.length; o++) if (f = u[o], "w" === f.postfix && f.value >= h || "x" === f.postfix && f.value >= s) { r = f; break } !r && u.length && (r = u[u.length - 1]); r && (t.src = r.url, t.width && t.height && "w" == r.postfix && (t.height = t.width / t.height * r.value, t.width = r.value)) } t.$content = i('<div class="fancybox-image-wrap"><\/div>').addClass("fancybox-is-hidden").appendTo(t.$slide); t.opts.preload !== !1 && t.opts.width && t.opts.height && (t.opts.thumb || t.opts.$thumb) ? (t.width = t.opts.width, t.height = t.opts.height, t.$ghost = i("<img />").one("error", function () { i(this).remove(); t.$ghost = null; e.setBigImage(t) }).one("load", function () { e.afterLoad(t); e.setBigImage(t) }).addClass("fancybox-image").appendTo(t.$content).attr("src", t.opts.thumb || t.opts.$thumb.attr("src"))) : e.setBigImage(t) }, setBigImage: function (n) { var r = this, t = i("<img />"); n.$image = t.one("error", function () { r.setError(n) }).one("load", function () { clearTimeout(n.timouts); n.timouts = null; r.isClosing || (n.width = this.naturalWidth, n.height = this.naturalHeight, n.opts.image.srcset && t.attr("sizes", "100vw").attr("srcset", n.opts.image.srcset), r.hideLoading(n), n.$ghost ? n.timouts = setTimeout(function () { n.timouts = null; n.$ghost.hide() }, Math.min(300, Math.max(1e3, n.height / 1600))) : r.afterLoad(n)) }).addClass("fancybox-image").attr("src", n.src).appendTo(n.$content); (t[0].complete || "complete" == t[0].readyState) && t[0].naturalWidth && t[0].naturalHeight ? t.trigger("load") : t[0].error ? t.trigger("error") : n.timouts = setTimeout(function () { t[0].complete || n.hasError || r.showLoading(n) }, 100) }, setIframe: function (n) { var u, f = this, t = n.opts.iframe, e = n.$slide; n.$content = i('<div class="fancybox-content' + (t.preload ? " fancybox-is-hidden" : "") + '"><\/div>').css(t.css).appendTo(e); u = i(t.tpl.replace(/\{rnd\}/g, (new Date).getTime())).attr(t.attr).appendTo(n.$content); t.preload ? (f.showLoading(n), u.on("load.fb error.fb", function () { this.isReady = 1; n.$slide.trigger("refresh"); f.afterLoad(n) }), e.on("refresh.fb", function () { var s, h, f, i = n.$content, e = t.css.width, o = t.css.height; if (1 === u[0].isReady) { try { h = u.contents(); f = h.find("body") } catch (n) { } f && f.length && (e === r && (s = u[0].contentWindow.document.documentElement.scrollWidth, e = Math.ceil(f.outerWidth(!0) + (i.width() - s)), e += i.outerWidth() - i.innerWidth()), o === r && (o = Math.ceil(f.outerHeight(!0)), o += i.outerHeight() - i.innerHeight()), e && i.width(e), o && i.height(o)); i.removeClass("fancybox-is-hidden") } })) : this.afterLoad(n); u.attr("src", n.src); n.opts.smallBtn === !0 && n.$content.prepend(f.translate(n, n.opts.btnTpl.smallBtn)); e.one("onReset", function () { try { i(this).find("iframe").hide().attr("src", "//about:blank") } catch (n) { } i(this).empty(); n.isLoaded = !1 }) }, setContent: function (n, t) { var r = this; r.isClosing || (r.hideLoading(n), n.$slide.empty(), v(t) && t.parent().length ? (t.parent(".fancybox-slide--inline").trigger("onReset"), n.$placeholder = i("<div><\/div>").hide().insertAfter(t), t.css("display", "inline-block")) : n.hasError || ("string" === i.type(t) && (t = i("<div>").append(i.trim(t)).contents(), 3 === t[0].nodeType && (t = i("<div>").html(t))), n.opts.filter && (t = i("<div>").html(t).find(n.opts.filter))), n.$slide.one("onReset", function () { n.$placeholder && (n.$placeholder.after(t.hide()).remove(), n.$placeholder = null); n.$smallBtn && (n.$smallBtn.remove(), n.$smallBtn = null); n.hasError || (i(this).empty(), n.isLoaded = !1) }), n.$content = i(t).appendTo(n.$slide), n.opts.smallBtn && !n.$smallBtn && (n.$smallBtn = i(r.translate(n, n.opts.btnTpl.smallBtn)).appendTo(n.$content.filter("div").first())), this.afterLoad(n)) }, setError: function (n) { n.hasError = !0; n.$slide.removeClass("fancybox-slide--" + n.type); this.setContent(n, this.translate(n, n.opts.errorTpl)) }, showLoading: function (n) { var t = this; n = n || t.current; n && !n.$spinner && (n.$spinner = i(t.opts.spinnerTpl).appendTo(n.$slide)) }, hideLoading: function (n) { var t = this; n = n || t.current; n && n.$spinner && (n.$spinner.remove(), delete n.$spinner) }, afterLoad: function (n) { var t = this; t.isClosing || (n.isLoading = !1, n.isLoaded = !0, t.trigger("afterLoad", n), t.hideLoading(n), n.opts.protect && n.$content && !n.hasError && (n.$content.on("contextmenu.fb", function (n) { return 2 == n.button && n.preventDefault(), !0 }), "image" === n.type && i('<div class="fancybox-spaceball"><\/div>').appendTo(n.$content)), t.revealContent(n)) }, revealContent: function (n) { var f, l, o, c, u, t = this, h = n.$slide, s = !1; return f = n.opts[t.firstRun ? "animationEffect" : "transitionEffect"], o = n.opts[t.firstRun ? "animationDuration" : "transitionDuration"], o = parseInt(n.forcedDuration === r ? o : n.forcedDuration, 10), !n.isMoved && n.pos === t.currPos && o || (f = !1), "zoom" !== f || n.pos === t.currPos && o && "image" === n.type && !n.hasError && (s = t.getThumbPos(n)) || (f = "fade"), "zoom" === f ? (u = t.getFitPos(n), u.scaleX = u.width / s.width, u.scaleY = u.height / s.height, delete u.width, delete u.height, c = n.opts.zoomOpacity, "auto" == c && (c = Math.abs(n.width / n.height - s.width / s.height) > .1), c && (s.opacity = .1, u.opacity = 1), i.fancybox.setTranslate(n.$content.removeClass("fancybox-is-hidden"), s), e(n.$content), void i.fancybox.animate(n.$content, u, o, function () { t.complete() })) : (t.updateSlide(n), f ? (i.fancybox.stop(h), l = "fancybox-animated fancybox-slide--" + (n.pos > t.prevPos ? "next" : "previous") + " fancybox-fx-" + f, h.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(l), n.$content.removeClass("fancybox-is-hidden"), e(h), void i.fancybox.animate(h, "fancybox-slide--current", o, function () { h.removeClass(l).removeAttr("style"); n.pos === t.currPos && t.complete() }, !0)) : (e(h), n.$content.removeClass("fancybox-is-hidden"), void (n.pos === t.currPos && t.complete()))) }, getThumbPos: function (r) { var f, s = this, o = !1, h = function (t) { for (var f, u = t[0], r = u.getBoundingClientRect(), e = []; null !== u.parentElement;) "hidden" !== i(u.parentElement).css("overflow") && "auto" !== i(u.parentElement).css("overflow") || e.push(u.parentElement.getBoundingClientRect()), u = u.parentElement; return f = e.every(function (n) { var t = Math.min(r.right, n.right) - Math.max(r.left, n.left), i = Math.min(r.bottom, n.bottom) - Math.max(r.top, n.top); return t > 0 && i > 0 }), f && r.bottom > 0 && r.right > 0 && r.left < i(n).width() && r.top < i(n).height() }, u = r.opts.$thumb, e = u ? u.offset() : 0; return e && u[0].ownerDocument === t && h(u) && (f = s.$refs.stage.offset(), o = { top: e.top - f.top + parseFloat(u.css("border-top-width") || 0), left: e.left - f.left + parseFloat(u.css("border-left-width") || 0), width: u.width(), height: u.height(), scaleX: 1, scaleY: 1 }), o }, complete: function () { var r = this, n = r.current, u = {}; n.isMoved || !n.isLoaded || n.isComplete || (n.isComplete = !0, n.$slide.siblings().trigger("onReset"), e(n.$slide), n.$slide.addClass("fancybox-slide--complete"), i.each(r.slides, function (n, t) { t.pos >= r.currPos - 1 && t.pos <= r.currPos + 1 ? u[t.pos] = t : t && (i.fancybox.stop(t.$slide), t.$slide.off().remove()) }), r.slides = u, r.updateCursor(), r.trigger("afterShow"), (i(t.activeElement).is("[disabled]") || n.opts.autoFocus && "image" != n.type && "iframe" !== n.type) && r.focus()) }, preload: function () { var t, i, n = this; n.group.length < 2 || (t = n.slides[n.currPos + 1], i = n.slides[n.currPos - 1], t && "image" === t.type && n.loadSlide(t), i && "image" === i.type && n.loadSlide(i)) }, focus: function () { var n, t = this.current; this.isClosing || (t && t.isComplete && (n = t.$slide.find("input[autofocus]:enabled:visible:first"), n.length || (n = t.$slide.find("button,:input,[tabindex],a").filter(":enabled:visible:first"))), n = n && n.length ? n : this.$refs.container, n.focus()) }, activate: function () { var n = this; i(".fancybox-container").each(function () { var t = i(this).data("FancyBox"); t && t.uid !== n.uid && !t.isClosing && t.trigger("onDeactivate") }); n.current && (n.$refs.container.index() > 0 && n.$refs.container.prependTo(t.body), n.updateControls()); n.trigger("onActivate"); n.addEvents() }, close: function (n, t) { var o, h, c, a, u, e, f = this, r = f.current, v = function () { f.cleanUp(n) }; return !f.isClosing && (f.isClosing = !0, f.trigger("beforeClose", n) === !1 ? (f.isClosing = !1, l(function () { f.update() }), !1) : (f.removeEvents(), r.timouts && clearTimeout(r.timouts), c = r.$content, o = r.opts.animationEffect, h = i.isNumeric(t) ? t : o ? r.opts.animationDuration : 0, r.$slide.off(s).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"), r.$slide.siblings().trigger("onReset").remove(), h && f.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"), f.hideLoading(r), f.hideControls(), f.updateCursor(), "zoom" !== o || n !== !0 && c && h && "image" === r.type && !r.hasError && (e = f.getThumbPos(r)) || (o = "fade"), "zoom" === o ? (i.fancybox.stop(c), u = i.fancybox.getTranslate(c), u.width = u.width * u.scaleX, u.height = u.height * u.scaleY, a = r.opts.zoomOpacity, "auto" == a && (a = Math.abs(r.width / r.height - e.width / e.height) > .1), a && (e.opacity = 0), u.scaleX = u.width / e.width, u.scaleY = u.height / e.height, u.width = e.width, u.height = e.height, i.fancybox.setTranslate(r.$content, u), i.fancybox.animate(r.$content, e, h, v), !0) : (o && h ? n === !0 ? setTimeout(v, h) : i.fancybox.animate(r.$slide.removeClass("fancybox-slide--current"), "fancybox-animated fancybox-slide--previous fancybox-fx-" + o, h, v) : v(), !0))) }, cleanUp: function (n) { var r, t = this; t.current.$slide.trigger("onReset"); t.$refs.container.empty().remove(); t.trigger("afterClose", n); t.$lastFocus && t.current.opts.backFocus && t.$lastFocus.focus(); t.current = null; r = i.fancybox.getInstance(); r ? r.activate() : (f.scrollTop(t.scrollTop).scrollLeft(t.scrollLeft), i("html").removeClass("fancybox-enabled"), i("#fancybox-style-noscroll").remove()) }, trigger: function (n, t) { var o, f = Array.prototype.slice.call(arguments, 1), e = this, r = t && t.opts ? t : e.current; return r ? f.unshift(r) : r = e, f.unshift(e), i.isFunction(r.opts[n]) && (o = r.opts[n].apply(r, f)), o === !1 ? o : void ("afterClose" === n ? u.trigger(n + ".fb", f) : e.$refs.container.trigger(n + ".fb", f)) }, updateControls: function () { var n = this, t = n.current, r = t.index, u = t.opts, f = u.caption, e = n.$refs.caption; t.$slide.trigger("refresh"); n.$caption = f && f.length ? e.html(f) : null; n.isHiddenControls || n.showControls(); i("[data-fancybox-count]").html(n.group.length); i("[data-fancybox-index]").html(r + 1); i("[data-fancybox-prev]").prop("disabled", !u.loop && r <= 0); i("[data-fancybox-next]").prop("disabled", !u.loop && r >= n.group.length - 1) }, hideControls: function () { this.isHiddenControls = !0; this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav") }, showControls: function () { var n = this, t = n.current ? n.current.opts : n.opts, i = n.$refs.container; n.isHiddenControls = !1; n.idleSecondsCounter = 0; i.toggleClass("fancybox-show-toolbar", !(!t.toolbar || !t.buttons)).toggleClass("fancybox-show-infobar", !!(t.infobar && n.group.length > 1)).toggleClass("fancybox-show-nav", !!(t.arrows && n.group.length > 1)).toggleClass("fancybox-is-modal", !!t.modal); n.$caption ? i.addClass("fancybox-show-caption ") : i.removeClass("fancybox-show-caption") }, toggleControls: function () { this.isHiddenControls ? this.showControls() : this.hideControls() } }); i.fancybox = { version: "3.1.28", defaults: c, getInstance: function (n) { var t = i('.fancybox-container:not(".fancybox-is-closing"):first').data("FancyBox"), r = Array.prototype.slice.call(arguments, 1); return t instanceof h && ("string" === i.type(n) ? t[n].apply(t, r) : "function" === i.type(n) && n.apply(t, r), t) }, open: function (n, t, i) { return new h(n, t, i) }, close: function (n) { var t = this.getInstance(); t && (t.close(), n === !0 && this.close()) }, destroy: function () { this.close(!0); u.off("click.fb-start") }, isMobile: t.createTouch !== r && /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent), use3d: function () { var i = t.createElement("div"); return n.getComputedStyle && n.getComputedStyle(i).getPropertyValue("transform") && !(t.documentMode && t.documentMode < 11) }(), getTranslate: function (n) { var t, r, i; return !n || !n.length ? !1 : ((t = n.eq(0).css("transform"), t && t.indexOf("matrix") !== -1 ? (t = t.split("(")[1], t = t.split(")")[0], t = t.split(",")) : t = [], t.length) ? (t = t.length > 10 ? [t[13], t[12], t[0], t[5]] : [t[5], t[4], t[0], t[3]], t = t.map(parseFloat)) : (t = [0, 0, 1, 1], r = /\.*translate\((.*)px,(.*)px\)/i, i = r.exec(n.eq(0).attr("style")), i && (t[0] = parseFloat(i[2]), t[1] = parseFloat(i[1]))), { top: t[0], left: t[1], scaleX: t[2], scaleY: t[3], opacity: parseFloat(n.css("opacity")), width: n.width(), height: n.height() }) }, setTranslate: function (n, t) { var i = "", u = {}; if (n && t) return t.left === r && t.top === r || (i = (t.left === r ? n.position().left : t.left) + "px, " + (t.top === r ? n.position().top : t.top) + "px", i = this.use3d ? "translate3d(" + i + ", 0px)" : "translate(" + i + ")"), t.scaleX !== r && t.scaleY !== r && (i = (i.length ? i + " " : "") + "scale(" + t.scaleX + ", " + t.scaleY + ")"), i.length && (u.transform = i), t.opacity !== r && (u.opacity = t.opacity), t.width !== r && (u.width = t.width), t.height !== r && (u.height = t.height), n.css(u) }, animate: function (n, t, u, f, e) { var o = s || "transitionend"; i.isFunction(u) && (f = u, u = null); i.isPlainObject(t) || n.removeAttr("style"); n.on(o, function (u) { u && u.originalEvent && (!n.is(u.originalEvent.target) || "z-index" == u.originalEvent.propertyName) || (n.off(o), i.isPlainObject(t) ? t.scaleX !== r && t.scaleY !== r && (n.css("transition-duration", "0ms"), t.width = Math.round(n.width() * t.scaleX), t.height = Math.round(n.height() * t.scaleY), t.scaleX = 1, t.scaleY = 1, i.fancybox.setTranslate(n, t)) : e !== !0 && n.removeClass(t), i.isFunction(f) && f(u)) }); i.isNumeric(u) && n.css("transition-duration", u + "ms"); i.isPlainObject(t) ? i.fancybox.setTranslate(n, t) : n.addClass(t); n.data("timer", setTimeout(function () { n.trigger("transitionend") }, u + 16)) }, stop: function (n) { clearTimeout(n.data("timer")); n.off(s) } }; i.fn.fancybox = function (n) { var t; return n = n || {}, t = n.selector || !1, t ? i("body").off("click.fb-start", t).on("click.fb-start", t, { options: n }, o) : this.off("click.fb-start").on("click.fb-start", { items: this, options: n }, o), this }; u.on("click.fb-start", "[data-fancybox]", o) } }(window, document, window.jQuery || jQuery), function (n) { "use strict"; var t = function (t, i, r) { if (t) return r = r || "", "object" === n.type(r) && (r = n.param(r, !0)), n.each(i, function (n, i) { t = t.replace("$" + n, i || "") }), r.length && (t += (t.indexOf("?") > 0 ? "&" : "?") + r), t }, i = { youtube: { matcher: /(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i, params: { autoplay: 1, autohide: 1, fs: 1, rel: 0, hd: 1, wmode: "transparent", enablejsapi: 1, html5: 1 }, paramPlace: 8, type: "iframe", url: "//www.youtube.com/embed/$4", thumb: "//img.youtube.com/vi/$4/hqdefault.jpg" }, vimeo: { matcher: /^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/, params: { autoplay: 1, hd: 1, show_title: 1, show_byline: 1, show_portrait: 0, fullscreen: 1, api: 1 }, paramPlace: 3, type: "iframe", url: "//player.vimeo.com/video/$2" }, metacafe: { matcher: /metacafe.com\/watch\/(\d+)\/(.*)?/, type: "iframe", url: "//www.metacafe.com/embed/$1/?ap=1" }, dailymotion: { matcher: /dailymotion.com\/video\/(.*)\/?(.*)/, params: { additionalInfos: 0, autoStart: 1 }, type: "iframe", url: "//www.dailymotion.com/embed/video/$1" }, vine: { matcher: /vine.co\/v\/([a-zA-Z0-9\?\=\-]+)/, type: "iframe", url: "//vine.co/v/$1/embed/simple" }, instagram: { matcher: /(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i, type: "image", url: "//$1/p/$2/media/?size=l" }, gmap_place: { matcher: /(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i, type: "iframe", url: function (n) { return "//maps.google." + n[2] + "/?ll=" + (n[9] ? n[9] + "&z=" + Math.floor(n[10]) + (n[12] ? n[12].replace(/^\//, "&") : "") : n[12]) + "&output=" + (n[12] && n[12].indexOf("layer=c") > 0 ? "svembed" : "embed") } }, gmap_search: { matcher: /(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i, type: "iframe", url: function (n) { return "//maps.google." + n[2] + "/maps?q=" + n[5].replace("query=", "q=").replace("api=1", "") + "&output=embed" } } }; n(document).on("onInit.fb", function (r, u) { n.each(u.group, function (r, u) { var a, v, f, h, e, l, o, s = u.src || "", c = !1; u.type || (a = n.extend(!0, {}, i, u.opts.media), n.each(a, function (i, r) { var a, y; if (f = s.match(r.matcher), l = {}, o = i, f) { if (c = r.type, r.paramPlace && f[r.paramPlace]) for (e = f[r.paramPlace], "?" == e[0] && (e = e.substring(1)), e = e.split("&"), a = 0; a < e.length; ++a) y = e[a].split("=", 2), 2 == y.length && (l[y[0]] = decodeURIComponent(y[1].replace(/\+/g, " "))); return h = n.extend(!0, {}, r.params, u.opts[i], l), s = "function" === n.type(r.url) ? r.url.call(this, f, h, u) : t(r.url, f, h), v = "function" === n.type(r.thumb) ? r.thumb.call(this, f, h, u) : t(r.thumb, f), "vimeo" === o && (s = s.replace("&%23", "#")), !1 } }), c ? (u.src = s, u.type = c, u.opts.thumb || u.opts.$thumb && u.opts.$thumb.length || (u.opts.thumb = v), "iframe" === c && (n.extend(!0, u.opts, { iframe: { preload: !1, attr: { scrolling: "no" } } }), u.contentProvider = o, u.opts.slideClass += " fancybox-slide--" + ("gmap_place" == o || "gmap_search" == o ? "map" : "video"))) : u.type = "image") }) }) }(window.jQuery), function (n, t, i) { "use strict"; var s = function () { return n.requestAnimationFrame || n.webkitRequestAnimationFrame || n.mozRequestAnimationFrame || n.oRequestAnimationFrame || function (t) { return n.setTimeout(t, 1e3 / 60) } }(), f = function () { return n.cancelAnimationFrame || n.webkitCancelAnimationFrame || n.mozCancelAnimationFrame || n.oCancelAnimationFrame || function (t) { n.clearTimeout(t) } }(), e = function (t) { var r = [], i; t = t.originalEvent || t || n.e; t = t.touches && t.touches.length ? t.touches : t.changedTouches && t.changedTouches.length ? t.changedTouches : [t]; for (i in t) t[i].pageX ? r.push({ x: t[i].pageX, y: t[i].pageY }) : t[i].clientX && r.push({ x: t[i].clientX, y: t[i].clientY }); return r }, u = function (n, t, i) { return t && n ? "x" === i ? n.x - t.x : "y" === i ? n.y - t.y : Math.sqrt(Math.pow(n.x - t.x, 2) + Math.pow(n.y - t.y, 2)) : 0 }, h = function (n) { if (n.is("a,button,input,select,textarea,label") || i.isFunction(n.get(0).onclick) || n.data("selectable")) return !0; for (var t = 0, r = n[0].attributes, u = r.length; t < u; t++) if ("data-fancybox-" === r[t].nodeName.substr(0, 14)) return !0; return !1 }, c = function (t) { var i = n.getComputedStyle(t)["overflow-y"], r = n.getComputedStyle(t)["overflow-x"], u = ("scroll" === i || "auto" === i) && t.scrollHeight > t.clientHeight, f = ("scroll" === r || "auto" === r) && t.scrollWidth > t.clientWidth; return u || f }, o = function (n) { for (var t = !1; ;) { if (t = c(n.get(0))) break; if (n = n.parent(), !n.length || n.hasClass("fancybox-stage") || n.is("body")) break } return t }, r = function (n) { var t = this; t.instance = n; t.$bg = n.$refs.bg; t.$stage = n.$refs.stage; t.$container = n.$refs.container; t.destroy(); t.$container.on("touchstart.fb.touch mousedown.fb.touch", i.proxy(t, "ontouchstart")) }; r.prototype.destroy = function () { this.$container.off(".fb.touch") }; r.prototype.ontouchstart = function (r) { var f = this, s = i(r.target), l = f.instance, c = l.current, v = c.$content, a = "touchstart" == r.type; if (a && f.$container.off("mousedown.fb.touch"), !c || f.instance.isAnimating || f.instance.isClosing) return r.stopPropagation(), void r.preventDefault(); if ((!r.originalEvent || 2 != r.originalEvent.button) && s.length && !h(s) && !h(s.parent()) && !(r.originalEvent.clientX > s[0].clientWidth + s.offset().left) && (f.startPoints = e(r), f.startPoints && !(f.startPoints.length > 1 && l.isSliding))) { if (f.$target = s, f.$content = v, f.canTap = !0, i(t).off(".fb.touch"), i(t).on(a ? "touchend.fb.touch touchcancel.fb.touch" : "mouseup.fb.touch mouseleave.fb.touch", i.proxy(f, "ontouchend")), i(t).on(a ? "touchmove.fb.touch" : "mousemove.fb.touch", i.proxy(f, "ontouchmove")), !l.current.opts.touch && !l.canPan() || !s.is(f.$stage) && !f.$stage.find(s).length) return void (s.is("img") && r.preventDefault()); r.stopPropagation(); i.fancybox.isMobile && (o(f.$target) || o(f.$target.parent())) || r.preventDefault(); f.canvasWidth = Math.round(c.$slide[0].clientWidth); f.canvasHeight = Math.round(c.$slide[0].clientHeight); f.startTime = (new Date).getTime(); f.distanceX = f.distanceY = f.distance = 0; f.isPanning = !1; f.isSwiping = !1; f.isZooming = !1; f.sliderStartPos = f.sliderLastPos || { top: 0, left: 0 }; f.contentStartPos = i.fancybox.getTranslate(f.$content); f.contentLastPos = null; 1 !== f.startPoints.length || f.isZooming || (f.canTap = !l.isSliding, "image" === c.type && (f.contentStartPos.width > f.canvasWidth + 1 || f.contentStartPos.height > f.canvasHeight + 1) ? (i.fancybox.stop(f.$content), f.$content.css("transition-duration", "0ms"), f.isPanning = !0) : f.isSwiping = !0, f.$container.addClass("fancybox-controls--isGrabbing")); 2 !== f.startPoints.length || l.isAnimating || c.hasError || "image" !== c.type || !c.isLoaded && !c.$ghost || (f.isZooming = !0, f.isSwiping = !1, f.isPanning = !1, i.fancybox.stop(f.$content), f.$content.css("transition-duration", "0ms"), f.centerPointStartX = .5 * (f.startPoints[0].x + f.startPoints[1].x) - i(n).scrollLeft(), f.centerPointStartY = .5 * (f.startPoints[0].y + f.startPoints[1].y) - i(n).scrollTop(), f.percentageOfImageAtPinchPointX = (f.centerPointStartX - f.contentStartPos.left) / f.contentStartPos.width, f.percentageOfImageAtPinchPointY = (f.centerPointStartY - f.contentStartPos.top) / f.contentStartPos.height, f.startDistanceBetweenFingers = u(f.startPoints[0], f.startPoints[1])) } }; r.prototype.ontouchmove = function (n) { var t = this; if (t.newPoints = e(n), i.fancybox.isMobile && (o(t.$target) || o(t.$target.parent()))) return n.stopPropagation(), void (t.canTap = !1); if ((t.instance.current.opts.touch || t.instance.canPan()) && t.newPoints && t.newPoints.length && (t.distanceX = u(t.newPoints[0], t.startPoints[0], "x"), t.distanceY = u(t.newPoints[0], t.startPoints[0], "y"), t.distance = u(t.newPoints[0], t.startPoints[0]), t.distance > 0)) { if (!t.$target.is(t.$stage) && !t.$stage.find(t.$target).length) return; n.stopPropagation(); n.preventDefault(); t.isSwiping ? t.onSwipe() : t.isPanning ? t.onPan() : t.isZooming && t.onZoom() } }; r.prototype.onSwipe = function () { var u, t = this, e = t.isSwiping, r = t.sliderStartPos.left || 0; e === !0 ? Math.abs(t.distance) > 10 && (t.canTap = !1, t.instance.group.length < 2 && t.instance.opts.touch.vertical ? t.isSwiping = "y" : t.instance.isSliding || t.instance.opts.touch.vertical === !1 || "auto" === t.instance.opts.touch.vertical && i(n).width() > 800 ? t.isSwiping = "x" : (u = Math.abs(180 * Math.atan2(t.distanceY, t.distanceX) / Math.PI), t.isSwiping = u > 45 && u < 135 ? "y" : "x"), t.instance.isSliding = t.isSwiping, t.startPoints = t.newPoints, i.each(t.instance.slides, function (n, r) { i.fancybox.stop(r.$slide); r.$slide.css("transition-duration", "0ms"); r.inTransition = !1; r.pos === t.instance.current.pos && (t.sliderStartPos.left = i.fancybox.getTranslate(r.$slide).left) }), t.instance.SlideShow && t.instance.SlideShow.isActive && t.instance.SlideShow.stop()) : ("x" == e && (t.distanceX > 0 && (t.instance.group.length < 2 || 0 === t.instance.current.index && !t.instance.current.opts.loop) ? r += Math.pow(t.distanceX, .8) : t.distanceX < 0 && (t.instance.group.length < 2 || t.instance.current.index === t.instance.group.length - 1 && !t.instance.current.opts.loop) ? r -= Math.pow(-t.distanceX, .8) : r += t.distanceX), t.sliderLastPos = { top: "x" == e ? 0 : t.sliderStartPos.top + t.distanceY, left: r }, t.requestId && (f(t.requestId), t.requestId = null), t.requestId = s(function () { t.sliderLastPos && (i.each(t.instance.slides, function (n, r) { var u = r.pos - t.instance.currPos; i.fancybox.setTranslate(r.$slide, { top: t.sliderLastPos.top, left: t.sliderLastPos.left + u * t.canvasWidth + u * r.opts.gutter }) }), t.$container.addClass("fancybox-is-sliding")) })) }; r.prototype.onPan = function () { var r, u, t, n = this; n.canTap = !1; r = n.contentStartPos.width > n.canvasWidth ? n.contentStartPos.left + n.distanceX : n.contentStartPos.left; u = n.contentStartPos.top + n.distanceY; t = n.limitMovement(r, u, n.contentStartPos.width, n.contentStartPos.height); t.scaleX = n.contentStartPos.scaleX; t.scaleY = n.contentStartPos.scaleY; n.contentLastPos = t; n.requestId && (f(n.requestId), n.requestId = null); n.requestId = s(function () { i.fancybox.setTranslate(n.$content, n.contentLastPos) }) }; r.prototype.limitMovement = function (n, t, i, r) { var f, e, o, s, u = this, h = u.canvasWidth, c = u.canvasHeight, v = u.contentStartPos.left, y = u.contentStartPos.top, l = u.distanceX, a = u.distanceY; return f = Math.max(0, .5 * h - .5 * i), e = Math.max(0, .5 * c - .5 * r), o = Math.min(h - i, .5 * h - .5 * i), s = Math.min(c - r, .5 * c - .5 * r), i > h && (l > 0 && n > f && (n = f - 1 + Math.pow(-f + v + l, .8) || 0), l < 0 && n < o && (n = o + 1 - Math.pow(o - v - l, .8) || 0)), r > c && (a > 0 && t > e && (t = e - 1 + Math.pow(-e + y + a, .8) || 0), a < 0 && t < s && (t = s + 1 - Math.pow(s - y - a, .8) || 0)), { top: t, left: n } }; r.prototype.limitPosition = function (n, t, i, r) { var e = this, u = e.canvasWidth, f = e.canvasHeight; return i > u ? (n = n > 0 ? 0 : n, n = n < u - i ? u - i : n) : n = Math.max(0, u / 2 - i / 2), r > f ? (t = t > 0 ? 0 : t, t = t < f - r ? f - r : t) : t = Math.max(0, f / 2 - r / 2), { top: t, left: n } }; r.prototype.onZoom = function () { var t = this, e = t.contentStartPos.width, o = t.contentStartPos.height, l = t.contentStartPos.left, a = t.contentStartPos.top, v = u(t.newPoints[0], t.newPoints[1]), r = v / t.startDistanceBetweenFingers, h = Math.floor(e * r), c = Math.floor(o * r), y = (e - h) * t.percentageOfImageAtPinchPointX, p = (o - c) * t.percentageOfImageAtPinchPointY, w = (t.newPoints[0].x + t.newPoints[1].x) / 2 - i(n).scrollLeft(), b = (t.newPoints[0].y + t.newPoints[1].y) / 2 - i(n).scrollTop(), k = w - t.centerPointStartX, d = b - t.centerPointStartY, g = l + (y + k), nt = a + (p + d), tt = { top: nt, left: g, scaleX: t.contentStartPos.scaleX * r, scaleY: t.contentStartPos.scaleY * r }; t.canTap = !1; t.newWidth = h; t.newHeight = c; t.contentLastPos = tt; t.requestId && (f(t.requestId), t.requestId = null); t.requestId = s(function () { i.fancybox.setTranslate(t.$content, t.contentLastPos) }) }; r.prototype.ontouchend = function (n) { var r = this, u = Math.max((new Date).getTime() - r.startTime, 1), o = r.isSwiping, s = r.isPanning, h = r.isZooming; return r.endPoints = e(n), r.$container.removeClass("fancybox-controls--isGrabbing"), i(t).off(".fb.touch"), r.requestId && (f(r.requestId), r.requestId = null), r.isSwiping = !1, r.isPanning = !1, r.isZooming = !1, r.canTap ? r.onTap(n) : (r.speed = 366, r.velocityX = r.distanceX / u * .5, r.velocityY = r.distanceY / u * .5, r.speedX = Math.max(.5 * r.speed, Math.min(1.5 * r.speed, 1 / Math.abs(r.velocityX) * r.speed)), void (s ? r.endPanning() : h ? r.endZooming() : r.endSwiping(o))) }; r.prototype.endSwiping = function (n) { var t = this, r = !1; t.instance.isSliding = !1; t.sliderLastPos = null; "y" == n && Math.abs(t.distanceY) > 50 ? (i.fancybox.animate(t.instance.current.$slide, { top: t.sliderStartPos.top + t.distanceY + 150 * t.velocityY, opacity: 0 }, 150), r = t.instance.close(!0, 300)) : "x" == n && t.distanceX > 50 && t.instance.group.length > 1 ? r = t.instance.previous(t.speedX) : "x" == n && t.distanceX < -50 && t.instance.group.length > 1 && (r = t.instance.next(t.speedX)); r !== !1 || "x" != n && "y" != n || t.instance.jumpTo(t.instance.current.index, 150); t.$container.removeClass("fancybox-is-sliding") }; r.prototype.endPanning = function () { var r, u, t, n = this; n.contentLastPos && (n.instance.current.opts.touch.momentum === !1 ? (r = n.contentLastPos.left, u = n.contentLastPos.top) : (r = n.contentLastPos.left + n.velocityX * n.speed, u = n.contentLastPos.top + n.velocityY * n.speed), t = n.limitPosition(r, u, n.contentStartPos.width, n.contentStartPos.height), t.width = n.contentStartPos.width, t.height = n.contentStartPos.height, i.fancybox.animate(n.$content, t, 330)) }; r.prototype.endZooming = function () { var u, f, e, o, n = this, s = n.instance.current, t = n.newWidth, r = n.newHeight; n.contentLastPos && (u = n.contentLastPos.left, f = n.contentLastPos.top, o = { top: f, left: u, width: t, height: r, scaleX: 1, scaleY: 1 }, i.fancybox.setTranslate(n.$content, o), t < n.canvasWidth && r < n.canvasHeight ? n.instance.scaleToFit(150) : t > s.width || r > s.height ? n.instance.scaleToActual(n.centerPointStartX, n.centerPointStartY, 150) : (e = n.limitPosition(u, f, t, r), i.fancybox.setTranslate(n.content, i.fancybox.getTranslate(n.$content)), i.fancybox.animate(n.$content, e, 150))) }; r.prototype.onTap = function (n) { var u, r = this, o = i(n.target), t = r.instance, f = t.current, s = n && e(n) || r.startPoints, h = s[0] ? s[0].x - r.$stage.offset().left : 0, c = s[0] ? s[0].y - r.$stage.offset().top : 0, l = function (u) { var e = f.opts[u]; if (i.isFunction(e) && (e = e.apply(t, [f, n])), e) switch (e) { case "close": t.close(r.startEvent); break; case "toggleControls": t.toggleControls(!0); break; case "next": t.next(); break; case "nextOrClose": t.group.length > 1 ? t.next() : t.close(r.startEvent); break; case "zoom": "image" == f.type && (f.isLoaded || f.$ghost) && (t.canPan() ? t.scaleToFit() : t.isScaledDown() ? t.scaleToActual(h, c) : t.group.length < 2 && t.close(r.startEvent)) } }; if (!(n.originalEvent && 2 == n.originalEvent.button || t.isSliding || h > o[0].clientWidth + o.offset().left)) { if (o.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container")) u = "Outside"; else if (o.is(".fancybox-slide")) u = "Slide"; else { if (!t.current.$content || !t.current.$content.has(n.target).length) return; u = "Content" } if (r.tapped) { if (clearTimeout(r.tapped), r.tapped = null, Math.abs(h - r.tapX) > 50 || Math.abs(c - r.tapY) > 50 || t.isSliding) return this; l("dblclick" + u) } else r.tapX = h, r.tapY = c, f.opts["dblclick" + u] && f.opts["dblclick" + u] !== f.opts["click" + u] ? r.tapped = setTimeout(function () { r.tapped = null; l("click" + u) }, 300) : l("click" + u); return this } }; i(t).on("onActivate.fb", function (n, t) { t && !t.Guestures && (t.Guestures = new r(t)) }); i(t).on("beforeClose.fb", function (n, t) { t && t.Guestures && t.Guestures.destroy() }) }(window, document, window.jQuery), function (n, t) { "use strict"; var i = function (n) { this.instance = n; this.init() }; t.extend(i.prototype, { timer: null, isActive: !1, $button: null, speed: 3e3, init: function () { var n = this; n.$button = n.instance.$refs.toolbar.find("[data-fancybox-play]").on("click", function () { n.toggle() }); (n.instance.group.length < 2 || !n.instance.group[n.instance.currIndex].opts.slideShow) && n.$button.hide() }, set: function () { var n = this; n.instance && n.instance.current && (n.instance.current.opts.loop || n.instance.currIndex < n.instance.group.length - 1) ? n.timer = setTimeout(function () { n.instance.next() }, n.instance.current.opts.slideShow.speed || n.speed) : (n.stop(), n.instance.idleSecondsCounter = 0, n.instance.showControls()) }, clear: function () { var n = this; clearTimeout(n.timer); n.timer = null }, start: function () { var n = this, t = n.instance.current; n.instance && t && (t.opts.loop || t.index < n.instance.group.length - 1) && (n.isActive = !0, n.$button.attr("title", t.opts.i18n[t.opts.lang].PLAY_STOP).addClass("fancybox-button--pause"), t.isComplete && n.set()) }, stop: function () { var n = this, t = n.instance.current; n.clear(); n.$button.attr("title", t.opts.i18n[t.opts.lang].PLAY_START).removeClass("fancybox-button--pause"); n.isActive = !1 }, toggle: function () { var n = this; n.isActive ? n.stop() : n.start() } }); t(n).on({ "onInit.fb": function (n, t) { t && !t.SlideShow && (t.SlideShow = new i(t)) }, "beforeShow.fb": function (n, t, i, r) { var u = t && t.SlideShow; r ? u && i.opts.slideShow.autoStart && u.start() : u && u.isActive && u.clear() }, "afterShow.fb": function (n, t) { var i = t && t.SlideShow; i && i.isActive && i.set() }, "afterKeydown.fb": function (i, r, u, f, e) { var o = r && r.SlideShow; o && u.opts.slideShow && (80 === e || 32 === e) && !t(n.activeElement).is("button,a,input") && (f.preventDefault(), o.toggle()) }, "beforeClose.fb onDeactivate.fb": function (n, t) { var i = t && t.SlideShow; i && i.stop() } }); t(n).on("visibilitychange", function () { var r = t.fancybox.getInstance(), i = r && r.SlideShow; i && i.isActive && (n.hidden ? i.clear() : i.set()) }) }(document, window.jQuery), function (n, t) { "use strict"; var i = function () { for (var t, i, u = [["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"], ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"], ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"], ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"], ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]], f = {}, r = 0; r < u.length; r++) if (t = u[r], t && t[1] in n) { for (i = 0; i < t.length; i++) f[u[0][i]] = t[i]; return f } return !1 }(), r; if (!i) return void (t && t.fancybox && (t.fancybox.defaults.btnTpl.fullScreen = !1)); r = { request: function (t) { t = t || n.documentElement; t[i.requestFullscreen](t.ALLOW_KEYBOARD_INPUT) }, exit: function () { n[i.exitFullscreen]() }, toggle: function (t) { t = t || n.documentElement; this.isFullscreen() ? this.exit() : this.request(t) }, isFullscreen: function () { return Boolean(n[i.fullscreenElement]) }, enabled: function () { return Boolean(n[i.fullscreenEnabled]) } }; t(n).on({ "onInit.fb": function (n, t) { var i, u = t.$refs.toolbar.find("[data-fancybox-fullscreen]"); t && !t.FullScreen && t.group[t.currIndex].opts.fullScreen ? (i = t.$refs.container, i.on("click.fb-fullscreen", "[data-fancybox-fullscreen]", function (n) { n.stopPropagation(); n.preventDefault(); r.toggle(i[0]) }), t.opts.fullScreen && t.opts.fullScreen.autoStart === !0 && r.request(i[0]), t.FullScreen = r) : u.hide() }, "afterKeydown.fb": function (n, t, i, r, u) { t && t.FullScreen && 70 === u && (r.preventDefault(), t.FullScreen.toggle(t.$refs.container[0])) }, "beforeClose.fb": function (n) { n && n.FullScreen && r.exit() } }); t(n).on(i.fullscreenchange, function () { var n = t.fancybox.getInstance(); n.current && "image" === n.current.type && n.isAnimating && (n.current.$content.css("transition", "none"), n.isAnimating = !1, n.update(!0, !0, 0)); n.trigger("onFullscreenChange", r.isFullscreen()) }) }(document, window.jQuery), function (n, t) { "use strict"; var i = function (n) { this.instance = n; this.init() }; t.extend(i.prototype, { $button: null, $grid: null, $list: null, isVisible: !1, init: function () { var n = this, t = n.instance.group[0], i = n.instance.group[1]; n.$button = n.instance.$refs.toolbar.find("[data-fancybox-thumbs]"); n.instance.group.length > 1 && n.instance.group[n.instance.currIndex].opts.thumbs && ("image" == t.type || t.opts.thumb || t.opts.$thumb) && ("image" == i.type || i.opts.thumb || i.opts.$thumb) ? (n.$button.on("click", function () { n.toggle() }), n.isActive = !0) : (n.$button.hide(), n.isActive = !1) }, create: function () { var i, n, r = this.instance; this.$grid = t('<div class="fancybox-thumbs"><\/div>').appendTo(r.$refs.container); i = "<ul>"; t.each(r.group, function (t, r) { n = r.opts.thumb || (r.opts.$thumb ? r.opts.$thumb.attr("src") : null); n || "image" !== r.type || (n = r.src); n && n.length && (i += '<li data-index="' + t + '"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="' + n + '" /><\/li>') }); i += "<\/ul>"; this.$list = t(i).appendTo(this.$grid).on("click", "li", function () { r.jumpTo(t(this).data("index")) }); this.$list.find("img").hide().one("load", function () { var n, i, r, u, o = t(this).parent().removeClass("fancybox-thumbs-loading"), f = o.outerWidth(), e = o.outerHeight(); n = this.naturalWidth || this.width; i = this.naturalHeight || this.height; r = n / f; u = i / e; r >= 1 && u >= 1 && (r > u ? (n /= u, i = e) : (n = f, i /= r)); t(this).css({ width: Math.floor(n), height: Math.floor(i), "margin-top": Math.min(0, Math.floor(.3 * e - .3 * i)), "margin-left": Math.min(0, Math.floor(.5 * f - .5 * n)) }).show() }).each(function () { this.src = t(this).data("src") }) }, focus: function () { this.instance.current && this.$list.children().removeClass("fancybox-thumbs-active").filter('[data-index="' + this.instance.current.index + '"]').addClass("fancybox-thumbs-active").focus() }, close: function () { this.$grid.hide() }, update: function () { this.instance.$refs.container.toggleClass("fancybox-show-thumbs", this.isVisible); this.isVisible ? (this.$grid || this.create(), this.instance.trigger("onThumbsShow"), this.focus()) : this.$grid && this.instance.trigger("onThumbsHide"); this.instance.update() }, hide: function () { this.isVisible = !1; this.update() }, show: function () { this.isVisible = !0; this.update() }, toggle: function () { this.isVisible = !this.isVisible; this.update() } }); t(n).on({ "onInit.fb": function (n, t) { t && !t.Thumbs && (t.Thumbs = new i(t)) }, "beforeShow.fb": function (n, t, i, r) { var u = t && t.Thumbs; if (u && u.isActive) { if (i.modal) return u.$button.hide(), void u.hide(); r && i.opts.thumbs.autoStart === !0 && u.show(); u.isVisible && u.focus() } }, "afterKeydown.fb": function (n, t, i, r, u) { var f = t && t.Thumbs; f && f.isActive && 71 === u && (r.preventDefault(), f.toggle()) }, "beforeClose.fb": function (n, t) { var i = t && t.Thumbs; i && i.isVisible && t.opts.thumbs.hideOnClose !== !1 && i.close() } }) }(document, window.jQuery), function (n, t, i) { "use strict"; function f() { var r = t.location.hash.substr(1), n = r.split("-"), i = n.length > 1 && /^\+?\d+$/.test(n[n.length - 1]) ? parseInt(n.pop(-1), 10) || 1 : 1, u = n.join("-"); return i < 1 && (i = 1), { hash: r, index: i, gallery: u } } function s(n) { var t; "" !== n.gallery && (t = i("[data-fancybox='" + i.escapeSelector(n.gallery) + "']").eq(n.index - 1), t.length || (t = i("#" + i.escapeSelector(n.gallery))), t.length && (o = !1, t.trigger("click"))) } function e(n) { var t; return !!n && (t = n.current ? n.current.opts : n.opts, t.hash || (t.$orig ? t.$orig.data("fancybox") : "")) } i.escapeSelector || (i.escapeSelector = function (n) { var t = function (n, t) { return t ? "\0" === n ? "�" : n.slice(0, -1) + "\\" + n.charCodeAt(n.length - 1).toString(16) + " " : "\\" + n }; return (n + "").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g, t) }); var o = !0, r = null, u = null; i(function () { setTimeout(function () { i.fancybox.defaults.hash !== !1 && (i(n).on({ "onInit.fb": function (n, t) { var i, r; t.group[t.currIndex].opts.hash !== !1 && (i = f(), r = e(t), r && i.gallery && r == i.gallery && (t.currIndex = i.index - 1)) }, "beforeShow.fb": function (i, f, s) { var h; s && s.opts.hash !== !1 && (h = e(f), h && "" !== h && (t.location.hash.indexOf(h) < 0 && (f.opts.origHash = t.location.hash), r = h + (f.group.length > 1 ? "-" + (s.index + 1) : ""), "replaceState" in t.history ? (u && clearTimeout(u), u = setTimeout(function () { t.history[o ? "pushState" : "replaceState"]({}, n.title, t.location.pathname + t.location.search + "#" + r); u = null; o = !1 }, 300)) : t.location.hash = r)) }, "beforeClose.fb": function (f, o, s) { var h, c; u && clearTimeout(u); s.opts.hash !== !1 && (h = e(o), c = o && o.opts.origHash ? o.opts.origHash : "", h && "" !== h && ("replaceState" in history ? t.history.replaceState({}, n.title, t.location.pathname + t.location.search + c) : (t.location.hash = c, i(t).scrollTop(o.scrollTop).scrollLeft(o.scrollLeft))), r = null) } }), i(t).on("hashchange.fb", function () { var n = f(); i.fancybox.getInstance() ? !r || r === n.gallery + "-" + n.index || 1 === n.index && r == n.gallery || (r = null, i.fancybox.close()) : "" !== n.gallery && s(n) }), s(f())) }, 50) }) }(document, window, window.jQuery); !function (n) { "function" == typeof define && define.amd ? define(["jquery"], n) : "object" == typeof module && module.exports ? module.exports = function (t, i) { return void 0 === i && (i = "undefined" != typeof window ? require("jquery") : require("jquery")(t)), n(i), i } : n(jQuery) }(function (n) { var t = function () { var t; return n && n.fn && n.fn.select2 && n.fn.select2.amd && (t = n.fn.select2.amd), function () { if (!t || !t.requirejs) { t ? i = t : t = {}; var n, i, r; !function (t) { function e(n, t) { return tt.call(n, t) } function c(n, t) { var e, o, s, u, h, y, c, p, i, l, w, b, r = t && t.split("/"), a = f.map, v = a && a["*"] || {}; if (n) { for (n = n.split("/"), h = n.length - 1, f.nodeIdCompat && k.test(n[h]) && (n[h] = n[h].replace(k, "")), "." === n[0].charAt(0) && r && (b = r.slice(0, r.length - 1), n = b.concat(n)), i = 0; i < n.length; i++) if ("." === (w = n[i])) n.splice(i, 1), i -= 1; else if (".." === w) { if (0 === i || 1 === i && ".." === n[2] || ".." === n[i - 1]) continue; i > 0 && (n.splice(i - 1, 2), i -= 2) } n = n.join("/") } if ((r || v) && a) { for (e = n.split("/"), i = e.length; i > 0; i -= 1) { if (o = e.slice(0, i).join("/"), r) for (l = r.length; l > 0; l -= 1) if ((s = a[r.slice(0, l).join("/")]) && (s = s[o])) { u = s; y = i; break } if (u) break; !c && v && v[o] && (c = v[o], p = i) } !u && c && (u = c, y = p); u && (e.splice(0, y, u), n = e.join("/")) } return n } function w(n, i) { return function () { var r = it.call(arguments, 0); return "string" != typeof r[0] && 1 === r.length && r.push(null), o.apply(t, r.concat([n, i])) } } function d(n) { return function (t) { return c(t, n) } } function g(n) { return function (t) { u[n] = t } } function l(n) { if (e(h, n)) { var i = h[n]; delete h[n]; p[n] = !0; a.apply(t, i) } if (!e(u, n) && !e(p, n)) throw new Error("No " + n); return u[n] } function v(n) { var i, t = n ? n.indexOf("!") : -1; return t > -1 && (i = n.substring(0, t), n = n.substring(t + 1, n.length)), [i, n] } function b(n) { return n ? v(n) : [] } function nt(n) { return function () { return f && f.config && f.config[n] || {} } } var a, o, y, s, u = {}, h = {}, f = {}, p = {}, tt = Object.prototype.hasOwnProperty, it = [].slice, k = /\.js$/; y = function (n, t) { var r, u = v(n), i = u[0], f = t[1]; return n = u[1], i && (i = c(i, f), r = l(i)), i ? n = r && r.normalize ? r.normalize(n, d(f)) : c(n, f) : (n = c(n, f), u = v(n), i = u[0], n = u[1], i && (r = l(i))), { f: i ? i + "!" + n : n, n: n, pr: i, p: r } }; s = { require: function (n) { return w(n) }, exports: function (n) { var t = u[n]; return void 0 !== t ? t : u[n] = {} }, module: function (n) { return { id: n, uri: "", exports: u[n], config: nt(n) } } }; a = function (n, i, r, f) { var v, o, d, k, c, nt, tt, a = [], it = typeof r; if (f = f || n, nt = b(f), "undefined" === it || "function" === it) { for (i = !i.length && r.length ? ["require", "exports", "module"] : i, c = 0; c < i.length; c += 1) if (k = y(i[c], nt), "require" === (o = k.f)) a[c] = s.require(n); else if ("exports" === o) a[c] = s.exports(n), tt = !0; else if ("module" === o) v = a[c] = s.module(n); else if (e(u, o) || e(h, o) || e(p, o)) a[c] = l(o); else { if (!k.p) throw new Error(n + " missing " + o); k.p.load(k.n, w(f, !0), g(o), {}); a[c] = u[o] } d = r ? r.apply(u[n], a) : void 0; n && (v && v.exports !== t && v.exports !== u[n] ? u[n] = v.exports : d === t && tt || (u[n] = d)) } else n && (u[n] = r) }; n = i = o = function (n, i, r, u, e) { if ("string" == typeof n) return s[n] ? s[n](i) : l(y(n, b(i)).f); if (!n.splice) { if (f = n, f.deps && o(f.deps, f.callback), !i) return; i.splice ? (n = i, i = r, r = null) : n = t } return i = i || function () { }, "function" == typeof r && (r = u, u = e), u ? a(t, n, i, r) : setTimeout(function () { a(t, n, i, r) }, 4), o }; o.config = function (n) { return o(n) }; n._defined = u; r = function (n, t, i) { if ("string" != typeof n) throw new Error("See almond README: incorrect module build, no module name"); t.splice || (i = t, t = []); e(u, n) || e(h, n) || (h[n] = [n, t, i]) }; r.amd = { jQuery: !0 } }(); t.requirejs = n; t.require = i; t.define = r } }(), t.define("almond", function () { }), t.define("jquery", [], function () { var t = n || $; return null == t && console && console.error && console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."), t }), t.define("select2/utils", ["jquery"], function (n) { function u(n) { var i = n.prototype, r = [], t; for (t in i) "function" == typeof i[t] && "constructor" !== t && r.push(t); return r } var t = {}, i, r; return t.Extend = function (n, t) { function r() { this.constructor = n } var u = {}.hasOwnProperty, i; for (i in t) u.call(t, i) && (n[i] = t[i]); return r.prototype = t.prototype, n.prototype = new r, n.__super__ = t.prototype, n }, t.Decorate = function (n, t) { function i() { var r = Array.prototype.unshift, u = t.prototype.constructor.length, i = n.prototype.constructor; u > 0 && (r.call(arguments, n.prototype.constructor), i = t.prototype.constructor); i.apply(this, arguments) } function l() { this.constructor = i } var s = u(t), h = u(n), r, e, c, f, o; for (t.displayName = n.displayName, i.prototype = new l, r = 0; r < h.length; r++) e = h[r], i.prototype[e] = n.prototype[e]; for (c = function (n) { var r = function () { }, u; return n in i.prototype && (r = i.prototype[n]), u = t.prototype[n], function () { return Array.prototype.unshift.call(arguments, r), u.apply(this, arguments) } }, f = 0; f < s.length; f++) o = s[f], i.prototype[o] = c(o); return i }, i = function () { this.listeners = {} }, i.prototype.on = function (n, t) { this.listeners = this.listeners || {}; n in this.listeners ? this.listeners[n].push(t) : this.listeners[n] = [t] }, i.prototype.trigger = function (n) { var i = Array.prototype.slice, t = i.call(arguments, 1); this.listeners = this.listeners || {}; null == t && (t = []); 0 === t.length && t.push({}); t[0]._type = n; n in this.listeners && this.invoke(this.listeners[n], i.call(arguments, 1)); "*" in this.listeners && this.invoke(this.listeners["*"], arguments) }, i.prototype.invoke = function (n, t) { for (var i = 0, r = n.length; i < r; i++) n[i].apply(this, t) }, t.Observable = i, t.generateChars = function (n) { for (var t = "", i = 0; i < n; i++) t += Math.floor(36 * Math.random()).toString(36); return t }, t.bind = function (n, t) { return function () { n.apply(t, arguments) } }, t._convertData = function (n) { var f, r, i, u, t; for (f in n) if (r = f.split("-"), i = n, 1 !== r.length) { for (u = 0; u < r.length; u++) t = r[u], t = t.substring(0, 1).toLowerCase() + t.substring(1), t in i || (i[t] = {}), u == r.length - 1 && (i[t] = n[f]), i = i[t]; delete n[f] } return n }, t.hasScroll = function (t, i) { var u = n(i), f = i.style.overflowX, r = i.style.overflowY; return (f !== r || "hidden" !== r && "visible" !== r) && ("scroll" === f || "scroll" === r || u.innerHeight() < i.scrollHeight || u.innerWidth() < i.scrollWidth) }, t.escapeMarkup = function (n) { var t = { "\\": "&#92;", "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;", "/": "&#47;" }; return "string" != typeof n ? n : String(n).replace(/[&<>"'\/\\]/g, function (n) { return t[n] }) }, t.appendMany = function (t, i) { if ("1.7" === n.fn.jquery.substr(0, 3)) { var r = n(); n.map(i, function (n) { r = r.add(n) }); i = r } t.append(i) }, t.__cache = {}, r = 0, t.GetUniqueElementId = function (n) { var t = n.getAttribute("data-select2-id"); return null == t && (n.id ? (t = n.id, n.setAttribute("data-select2-id", t)) : (n.setAttribute("data-select2-id", ++r), t = r.toString())), t }, t.StoreData = function (n, i, r) { var u = t.GetUniqueElementId(n); t.__cache[u] || (t.__cache[u] = {}); t.__cache[u][i] = r }, t.GetData = function (i, r) { var u = t.GetUniqueElementId(i); return r ? t.__cache[u] && null != t.__cache[u][r] ? t.__cache[u][r] : n(i).data(r) : t.__cache[u] }, t.RemoveData = function (n) { var i = t.GetUniqueElementId(n); null != t.__cache[i] && delete t.__cache[i] }, t }), t.define("select2/results", ["jquery", "./utils"], function (n, t) { function i(n, t, r) { this.$element = n; this.data = r; this.options = t; i.__super__.constructor.call(this) } return t.Extend(i, t.Observable), i.prototype.render = function () { var t = n('<ul class="select2-results__options" role="tree"><\/ul>'); return this.options.get("multiple") && t.attr("aria-multiselectable", "true"), this.$results = t, t }, i.prototype.clear = function () { this.$results.empty() }, i.prototype.displayMessage = function (t) { var u = this.options.get("escapeMarkup"), i, r; this.clear(); this.hideLoading(); i = n('<li role="treeitem" aria-live="assertive" class="select2-results__option"><\/li>'); r = this.options.get("translations").get(t.message); i.append(u(r(t.args))); i[0].className += " select2-results__message"; this.$results.append(i) }, i.prototype.hideMessages = function () { this.$results.find(".select2-results__message").remove() }, i.prototype.append = function (n) { var i, t, r, u; if (this.hideLoading(), i = [], null == n.results || 0 === n.results.length) return void (0 === this.$results.children().length && this.trigger("results:message", { message: "noResults" })); for (n.results = this.sort(n.results), t = 0; t < n.results.length; t++) r = n.results[t], u = this.option(r), i.push(u); this.$results.append(i) }, i.prototype.position = function (n, t) { t.find(".select2-results").append(n) }, i.prototype.sort = function (n) { return this.options.get("sorter")(n) }, i.prototype.highlightFirstItem = function () { var n = this.$results.find(".select2-results__option[aria-selected]"), t = n.filter("[aria-selected=true]"); t.length > 0 ? t.first().trigger("mouseenter") : n.first().trigger("mouseenter"); this.ensureHighlightVisible() }, i.prototype.setClasses = function () { var i = this; this.data.current(function (r) { var u = n.map(r, function (n) { return n.id.toString() }); i.$results.find(".select2-results__option[aria-selected]").each(function () { var r = n(this), i = t.GetData(this, "data"), f = "" + i.id; null != i.element && i.element.selected || null == i.element && n.inArray(f, u) > -1 ? r.attr("aria-selected", "true") : r.attr("aria-selected", "false") }) }) }, i.prototype.showLoading = function (n) { this.hideLoading(); var i = this.options.get("translations").get("searching"), r = { disabled: !0, loading: !0, text: i(n) }, t = this.option(r); t.className += " loading-results"; this.$results.prepend(t) }, i.prototype.hideLoading = function () { this.$results.find(".loading-results").remove() }, i.prototype.option = function (i) { var u = document.createElement("li"), r, o, l, s, f, h, e, a, v, c; u.className = "select2-results__option"; r = { role: "treeitem", "aria-selected": "false" }; i.disabled && (delete r["aria-selected"], r["aria-disabled"] = "true"); null == i.id && delete r["aria-selected"]; null != i._resultId && (u.id = i._resultId); i.title && (u.title = i.title); i.children && (r.role = "group", r["aria-label"] = i.text, delete r["aria-selected"]); for (o in r) l = r[o], u.setAttribute(o, l); if (i.children) { for (s = n(u), f = document.createElement("strong"), f.className = "select2-results__group", n(f), this.template(i, f), h = [], e = 0; e < i.children.length; e++) a = i.children[e], v = this.option(a), h.push(v); c = n("<ul><\/ul>", { "class": "select2-results__options select2-results__options--nested" }); c.append(h); s.append(f); s.append(c) } else this.template(i, u); return t.StoreData(u, "data", i), u }, i.prototype.bind = function (i) { var r = this, u = i.id + "-results"; this.$results.attr("id", u); i.on("results:all", function (n) { r.clear(); r.append(n.data); i.isOpen() && (r.setClasses(), r.highlightFirstItem()) }); i.on("results:append", function (n) { r.append(n.data); i.isOpen() && r.setClasses() }); i.on("query", function (n) { r.hideMessages(); r.showLoading(n) }); i.on("select", function () { i.isOpen() && (r.setClasses(), r.options.get("scrollAfterSelect") && r.highlightFirstItem()) }); i.on("unselect", function () { i.isOpen() && (r.setClasses(), r.options.get("scrollAfterSelect") && r.highlightFirstItem()) }); i.on("open", function () { r.$results.attr("aria-expanded", "true"); r.$results.attr("aria-hidden", "false"); r.setClasses(); r.ensureHighlightVisible() }); i.on("close", function () { r.$results.attr("aria-expanded", "false"); r.$results.attr("aria-hidden", "true"); r.$results.removeAttr("aria-activedescendant") }); i.on("results:toggle", function () { var n = r.getHighlightedResults(); 0 !== n.length && n.trigger("mouseup") }); i.on("results:select", function () { var n = r.getHighlightedResults(), i; 0 !== n.length && (i = t.GetData(n[0], "data"), "true" == n.attr("aria-selected") ? r.trigger("close", {}) : r.trigger("select", { data: i })) }); i.on("results:previous", function () { var i = r.getHighlightedResults(), u = r.$results.find("[aria-selected]"), f = u.index(i), n, t; if (!(f <= 0)) { n = f - 1; 0 === i.length && (n = 0); t = u.eq(n); t.trigger("mouseenter"); var e = r.$results.offset().top, o = t.offset().top, s = r.$results.scrollTop() + (o - e); 0 === n ? r.$results.scrollTop(0) : o - e < 0 && r.$results.scrollTop(s) } }); i.on("results:next", function () { var e = r.getHighlightedResults(), t = r.$results.find("[aria-selected]"), o = t.index(e), i = o + 1, n; if (!(i >= t.length)) { n = t.eq(i); n.trigger("mouseenter"); var u = r.$results.offset().top + r.$results.outerHeight(!1), f = n.offset().top + n.outerHeight(!1), s = r.$results.scrollTop() + f - u; 0 === i ? r.$results.scrollTop(0) : f > u && r.$results.scrollTop(s) } }); i.on("results:focus", function (n) { n.element.addClass("select2-results__option--highlighted") }); i.on("results:message", function (n) { r.displayMessage(n) }); n.fn.mousewheel && this.$results.on("mousewheel", function (n) { var t = r.$results.scrollTop(), i = r.$results.get(0).scrollHeight - t + n.deltaY, u = n.deltaY > 0 && t - n.deltaY <= 0, f = n.deltaY < 0 && i <= r.$results.height(); u ? (r.$results.scrollTop(0), n.preventDefault(), n.stopPropagation()) : f && (r.$results.scrollTop(r.$results.get(0).scrollHeight - r.$results.height()), n.preventDefault(), n.stopPropagation()) }); this.$results.on("mouseup", ".select2-results__option[aria-selected]", function (i) { var f = n(this), u = t.GetData(this, "data"); if ("true" === f.attr("aria-selected")) return void (r.options.get("multiple") ? r.trigger("unselect", { originalEvent: i, data: u }) : r.trigger("close", {})); r.trigger("select", { originalEvent: i, data: u }) }); this.$results.on("mouseenter", ".select2-results__option[aria-selected]", function () { var i = t.GetData(this, "data"); r.getHighlightedResults().removeClass("select2-results__option--highlighted"); r.trigger("results:focus", { data: i, element: n(this) }) }) }, i.prototype.getHighlightedResults = function () { return this.$results.find(".select2-results__option--highlighted") }, i.prototype.destroy = function () { this.$results.remove() }, i.prototype.ensureHighlightVisible = function () { var n = this.getHighlightedResults(); if (0 !== n.length) { var f = this.$results.find("[aria-selected]"), e = f.index(n), t = this.$results.offset().top, i = n.offset().top, r = this.$results.scrollTop() + (i - t), u = i - t; r -= 2 * n.outerHeight(!1); e <= 2 ? this.$results.scrollTop(0) : (u > this.$results.outerHeight() || u < 0) && this.$results.scrollTop(r) } }, i.prototype.template = function (t, i) { var u = this.options.get("templateResult"), f = this.options.get("escapeMarkup"), r = u(t, i); null == r ? i.style.display = "none" : "string" == typeof r ? i.innerHTML = f(r) : n(i).append(r) }, i }), t.define("select2/keys", [], function () { return { BACKSPACE: 8, TAB: 9, ENTER: 13, SHIFT: 16, CTRL: 17, ALT: 18, ESC: 27, SPACE: 32, PAGE_UP: 33, PAGE_DOWN: 34, END: 35, HOME: 36, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, DELETE: 46 } }), t.define("select2/selection/base", ["jquery", "../utils", "../keys"], function (n, t, i) { function r(n, t) { this.$element = n; this.options = t; r.__super__.constructor.call(this) } return t.Extend(r, t.Observable), r.prototype.render = function () { var i = n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"><\/span>'); return this._tabindex = 0, null != t.GetData(this.$element[0], "old-tabindex") ? this._tabindex = t.GetData(this.$element[0], "old-tabindex") : null != this.$element.attr("tabindex") && (this._tabindex = this.$element.attr("tabindex")), i.attr("title", this.$element.attr("title")), i.attr("tabindex", this._tabindex), this.$selection = i, i }, r.prototype.bind = function (n) { var t = this, r = (n.id, n.id + "-results"); this.container = n; this.$selection.on("focus", function (n) { t.trigger("focus", n) }); this.$selection.on("blur", function (n) { t._handleBlur(n) }); this.$selection.on("keydown", function (n) { t.trigger("keypress", n); n.which === i.SPACE && n.preventDefault() }); n.on("results:focus", function (n) { t.$selection.attr("aria-activedescendant", n.data._resultId) }); n.on("selection:update", function (n) { t.update(n.data) }); n.on("open", function () { t.$selection.attr("aria-expanded", "true"); t.$selection.attr("aria-owns", r); t._attachCloseHandler(n) }); n.on("close", function () { t.$selection.attr("aria-expanded", "false"); t.$selection.removeAttr("aria-activedescendant"); t.$selection.removeAttr("aria-owns"); window.setTimeout(function () { t.$selection.focus() }, 0); t._detachCloseHandler(n) }); n.on("enable", function () { t.$selection.attr("tabindex", t._tabindex) }); n.on("disable", function () { t.$selection.attr("tabindex", "-1") }) }, r.prototype._handleBlur = function (t) { var i = this; window.setTimeout(function () { document.activeElement == i.$selection[0] || n.contains(i.$selection[0], document.activeElement) || i.trigger("blur", t) }, 1) }, r.prototype._attachCloseHandler = function (i) { n(document.body).on("mousedown.select2." + i.id, function (i) { var r = n(i.target), u = r.closest(".select2"); n(".select2.select2-container--open").each(function () { n(this); this != u[0] && t.GetData(this, "element").select2("close") }) }) }, r.prototype._detachCloseHandler = function (t) { n(document.body).off("mousedown.select2." + t.id) }, r.prototype.position = function (n, t) { t.find(".selection").append(n) }, r.prototype.destroy = function () { this._detachCloseHandler(this.container) }, r.prototype.update = function () { throw new Error("The `update` method must be defined in child classes."); }, r }), t.define("select2/selection/single", ["jquery", "./base", "../utils", "../keys"], function (n, t, i) { function r() { r.__super__.constructor.apply(this, arguments) } return i.Extend(r, t), r.prototype.render = function () { var n = r.__super__.render.call(this); return n.addClass("select2-selection--single"), n.html('<span class="select2-selection__rendered"><\/span><span class="select2-selection__arrow" role="presentation"><b role="presentation"><\/b><\/span>'), n }, r.prototype.bind = function (n) { var i = this, t; r.__super__.bind.apply(this, arguments); t = n.id + "-container"; this.$selection.find(".select2-selection__rendered").attr("id", t).attr("role", "textbox").attr("aria-readonly", "true"); this.$selection.attr("aria-labelledby", t); this.$selection.on("mousedown", function (n) { 1 === n.which && i.trigger("toggle", { originalEvent: n }) }); this.$selection.on("focus", function () { }); this.$selection.on("blur", function () { }); n.on("focus", function () { n.isOpen() || i.$selection.focus() }) }, r.prototype.clear = function () { var n = this.$selection.find(".select2-selection__rendered"); n.empty(); n.removeAttr("title") }, r.prototype.display = function (n, t) { var i = this.options.get("templateSelection"); return this.options.get("escapeMarkup")(i(n, t)) }, r.prototype.selectionContainer = function () { return n("<span><\/span>") }, r.prototype.update = function (n) { if (0 === n.length) return void this.clear(); var t = n[0], i = this.$selection.find(".select2-selection__rendered"), r = this.display(t, i); i.empty().append(r); i.attr("title", t.title || t.text) }, r }), t.define("select2/selection/multiple", ["jquery", "./base", "../utils"], function (n, t, i) { function r() { r.__super__.constructor.apply(this, arguments) } return i.Extend(r, t), r.prototype.render = function () { var n = r.__super__.render.call(this); return n.addClass("select2-selection--multiple"), n.html('<ul class="select2-selection__rendered"><\/ul>'), n }, r.prototype.bind = function () { var t = this; r.__super__.bind.apply(this, arguments); this.$selection.on("click", function (n) { t.trigger("toggle", { originalEvent: n }) }); this.$selection.on("click", ".select2-selection__choice__remove", function (r) { if (!t.options.get("disabled")) { var u = n(this), f = u.parent(), e = i.GetData(f[0], "data"); t.trigger("unselect", { originalEvent: r, data: e }) } }) }, r.prototype.clear = function () { var n = this.$selection.find(".select2-selection__rendered"); n.empty(); n.removeAttr("title") }, r.prototype.display = function (n, t) { var i = this.options.get("templateSelection"); return this.options.get("escapeMarkup")(i(n, t)) }, r.prototype.selectionContainer = function () { return n('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;<\/span><\/li>') }, r.prototype.update = function (n) { var f, r, e; if (this.clear(), 0 !== n.length) { for (f = [], r = 0; r < n.length; r++) { var u = n[r], t = this.selectionContainer(), o = this.display(u, t); t.append(o); t.attr("title", u.title || u.text); i.StoreData(t[0], "data", u); f.push(t) } e = this.$selection.find(".select2-selection__rendered"); i.appendMany(e, f) } }, r }), t.define("select2/selection/placeholder", ["../utils"], function () { function n(n, t, i) { this.placeholder = this.normalizePlaceholder(i.get("placeholder")); n.call(this, t, i) } return n.prototype.normalizePlaceholder = function (n, t) { return "string" == typeof t && (t = { id: "", text: t }), t }, n.prototype.createPlaceholder = function (n, t) { var i = this.selectionContainer(); return i.html(this.display(t)), i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"), i }, n.prototype.update = function (n, t) { var r = 1 == t.length && t[0].id != this.placeholder.id, i; if (t.length > 1 || r) return n.call(this, t); this.clear(); i = this.createPlaceholder(this.placeholder); this.$selection.find(".select2-selection__rendered").append(i) }, n }), t.define("select2/selection/allowClear", ["jquery", "../keys", "../utils"], function (n, t, i) { function r() { } return r.prototype.bind = function (n, t, i) { var r = this; n.call(this, t, i); null == this.placeholder && this.options.get("debug") && window.console && console.error && console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."); this.$selection.on("mousedown", ".select2-selection__clear", function (n) { r._handleClear(n) }); t.on("keypress", function (n) { r._handleKeyboardClear(n, t) }) }, r.prototype._handleClear = function (n, t) { var e, u, o, r, f; if (!this.options.get("disabled") && (e = this.$selection.find(".select2-selection__clear"), 0 !== e.length)) { if (t.stopPropagation(), u = i.GetData(e[0], "data"), o = this.$element.val(), this.$element.val(this.placeholder.id), r = { data: u }, this.trigger("clear", r), r.prevented) return void this.$element.val(o); for (f = 0; f < u.length; f++) if (r = { data: u[f] }, this.trigger("unselect", r), r.prevented) return void this.$element.val(o); this.$element.trigger("change"); this.trigger("toggle", {}) } }, r.prototype._handleKeyboardClear = function (n, i, r) { r.isOpen() || i.which != t.DELETE && i.which != t.BACKSPACE || this._handleClear(i) }, r.prototype.update = function (t, r) { if (t.call(this, r), !(this.$selection.find(".select2-selection__placeholder").length > 0 || 0 === r.length)) { var f = this.options.get("translations").get("removeAllItems"), u = n('<span class="select2-selection__clear" title="' + f() + '">&times;<\/span>'); i.StoreData(u[0], "data", r); this.$selection.find(".select2-selection__rendered").prepend(u) } }, r }), t.define("select2/selection/search", ["jquery", "../utils", "../keys"], function (n, t, i) { function r(n, t, i) { n.call(this, t, i) } return r.prototype.render = function (t) { var i = n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /><\/li>'), r; return this.$searchContainer = i, this.$search = i.find("input"), r = t.call(this), this._transferTabIndex(), r }, r.prototype.bind = function (n, r, u) { var f = this, e, o; n.call(this, r, u); r.on("open", function () { f.$search.trigger("focus") }); r.on("close", function () { f.$search.val(""); f.$search.removeAttr("aria-activedescendant"); f.$search.trigger("focus") }); r.on("enable", function () { f.$search.prop("disabled", !1); f._transferTabIndex() }); r.on("disable", function () { f.$search.prop("disabled", !0) }); r.on("focus", function () { f.$search.trigger("focus") }); r.on("results:focus", function (n) { f.$search.attr("aria-activedescendant", n.id) }); this.$selection.on("focusin", ".select2-search--inline", function (n) { f.trigger("focus", n) }); this.$selection.on("focusout", ".select2-search--inline", function (n) { f._handleBlur(n) }); this.$selection.on("keydown", ".select2-search--inline", function (n) { var r, u; (n.stopPropagation(), f.trigger("keypress", n), f._keyUpPrevented = n.isDefaultPrevented(), n.which === i.BACKSPACE && "" === f.$search.val()) && (r = f.$searchContainer.prev(".select2-selection__choice"), r.length > 0 && (u = t.GetData(r[0], "data"), f.searchRemoveChoice(u), n.preventDefault())) }); e = document.documentMode; o = e && e <= 11; this.$selection.on("input.searchcheck", ".select2-search--inline", function () { if (o) return void f.$selection.off("input.search input.searchcheck"); f.$selection.off("keyup.search") }); this.$selection.on("keyup.search input.search", ".select2-search--inline", function (n) { if (o && "input" === n.type) return void f.$selection.off("input.search input.searchcheck"); var t = n.which; t != i.SHIFT && t != i.CTRL && t != i.ALT && t != i.TAB && f.handleSearch(n) }) }, r.prototype._transferTabIndex = function () { this.$search.attr("tabindex", this.$selection.attr("tabindex")); this.$selection.attr("tabindex", "-1") }, r.prototype.createPlaceholder = function (n, t) { this.$search.attr("placeholder", t.text) }, r.prototype.update = function (n, t) { var i = this.$search[0] == document.activeElement; (this.$search.attr("placeholder", ""), n.call(this, t), this.$selection.find(".select2-selection__rendered").append(this.$searchContainer), this.resizeSearch(), i) && (this.$element.find("[data-select2-tag]").length ? this.$element.focus() : this.$search.focus()) }, r.prototype.handleSearch = function () { if (this.resizeSearch(), !this._keyUpPrevented) { var n = this.$search.val(); this.trigger("query", { term: n }) } this._keyUpPrevented = !1 }, r.prototype.searchRemoveChoice = function (n, t) { this.trigger("unselect", { data: t }); this.$search.val(t.text); this.handleSearch() }, r.prototype.resizeSearch = function () { this.$search.css("width", "25px"); var n = ""; n = "" !== this.$search.attr("placeholder") ? this.$selection.find(".select2-selection__rendered").innerWidth() : .75 * (this.$search.val().length + 1) + "em"; this.$search.css("width", n) }, r }), t.define("select2/selection/eventRelay", ["jquery"], function (n) { function t() { } return t.prototype.bind = function (t, i, r) { var u = this, f = ["open", "opening", "close", "closing", "select", "selecting", "unselect", "unselecting", "clear", "clearing"], e = ["opening", "closing", "selecting", "unselecting", "clearing"]; t.call(this, i, r); i.on("*", function (t, i) { if (-1 !== n.inArray(t, f)) { i = i || {}; var r = n.Event("select2:" + t, { params: i }); u.$element.trigger(r); -1 !== n.inArray(t, e) && (i.prevented = r.isDefaultPrevented()) } }) }, t }), t.define("select2/translation", ["jquery", "require"], function (n, t) { function i(n) { this.dict = n || {} } return i.prototype.all = function () { return this.dict }, i.prototype.get = function (n) { return this.dict[n] }, i.prototype.extend = function (t) { this.dict = n.extend({}, t.all(), this.dict) }, i._cache = {}, i.loadPath = function (n) { if (!(n in i._cache)) { var r = t(n); i._cache[n] = r } return new i(i._cache[n]) }, i }), t.define("select2/diacritics", [], function () { return { "Ⓐ": "A", "Ａ": "A", "À": "A", "Á": "A", "Â": "A", "Ầ": "A", "Ấ": "A", "Ẫ": "A", "Ẩ": "A", "Ã": "A", "Ā": "A", "Ă": "A", "Ằ": "A", "Ắ": "A", "Ẵ": "A", "Ẳ": "A", "Ȧ": "A", "Ǡ": "A", "Ä": "A", "Ǟ": "A", "Ả": "A", "Å": "A", "Ǻ": "A", "Ǎ": "A", "Ȁ": "A", "Ȃ": "A", "Ạ": "A", "Ậ": "A", "Ặ": "A", "Ḁ": "A", "Ą": "A", "Ⱥ": "A", "Ɐ": "A", "Ꜳ": "AA", "Æ": "AE", "Ǽ": "AE", "Ǣ": "AE", "Ꜵ": "AO", "Ꜷ": "AU", "Ꜹ": "AV", "Ꜻ": "AV", "Ꜽ": "AY", "Ⓑ": "B", "Ｂ": "B", "Ḃ": "B", "Ḅ": "B", "Ḇ": "B", "Ƀ": "B", "Ƃ": "B", "Ɓ": "B", "Ⓒ": "C", "Ｃ": "C", "Ć": "C", "Ĉ": "C", "Ċ": "C", "Č": "C", "Ç": "C", "Ḉ": "C", "Ƈ": "C", "Ȼ": "C", "Ꜿ": "C", "Ⓓ": "D", "Ｄ": "D", "Ḋ": "D", "Ď": "D", "Ḍ": "D", "Ḑ": "D", "Ḓ": "D", "Ḏ": "D", "Đ": "D", "Ƌ": "D", "Ɗ": "D", "Ɖ": "D", "Ꝺ": "D", "Ǳ": "DZ", "Ǆ": "DZ", "ǲ": "Dz", "ǅ": "Dz", "Ⓔ": "E", "Ｅ": "E", "È": "E", "É": "E", "Ê": "E", "Ề": "E", "Ế": "E", "Ễ": "E", "Ể": "E", "Ẽ": "E", "Ē": "E", "Ḕ": "E", "Ḗ": "E", "Ĕ": "E", "Ė": "E", "Ë": "E", "Ẻ": "E", "Ě": "E", "Ȅ": "E", "Ȇ": "E", "Ẹ": "E", "Ệ": "E", "Ȩ": "E", "Ḝ": "E", "Ę": "E", "Ḙ": "E", "Ḛ": "E", "Ɛ": "E", "Ǝ": "E", "Ⓕ": "F", "Ｆ": "F", "Ḟ": "F", "Ƒ": "F", "Ꝼ": "F", "Ⓖ": "G", "Ｇ": "G", "Ǵ": "G", "Ĝ": "G", "Ḡ": "G", "Ğ": "G", "Ġ": "G", "Ǧ": "G", "Ģ": "G", "Ǥ": "G", "Ɠ": "G", "Ꞡ": "G", "Ᵹ": "G", "Ꝿ": "G", "Ⓗ": "H", "Ｈ": "H", "Ĥ": "H", "Ḣ": "H", "Ḧ": "H", "Ȟ": "H", "Ḥ": "H", "Ḩ": "H", "Ḫ": "H", "Ħ": "H", "Ⱨ": "H", "Ⱶ": "H", "Ɥ": "H", "Ⓘ": "I", "Ｉ": "I", "Ì": "I", "Í": "I", "Î": "I", "Ĩ": "I", "Ī": "I", "Ĭ": "I", "İ": "I", "Ï": "I", "Ḯ": "I", "Ỉ": "I", "Ǐ": "I", "Ȉ": "I", "Ȋ": "I", "Ị": "I", "Į": "I", "Ḭ": "I", "Ɨ": "I", "Ⓙ": "J", "Ｊ": "J", "Ĵ": "J", "Ɉ": "J", "Ⓚ": "K", "Ｋ": "K", "Ḱ": "K", "Ǩ": "K", "Ḳ": "K", "Ķ": "K", "Ḵ": "K", "Ƙ": "K", "Ⱪ": "K", "Ꝁ": "K", "Ꝃ": "K", "Ꝅ": "K", "Ꞣ": "K", "Ⓛ": "L", "Ｌ": "L", "Ŀ": "L", "Ĺ": "L", "Ľ": "L", "Ḷ": "L", "Ḹ": "L", "Ļ": "L", "Ḽ": "L", "Ḻ": "L", "Ł": "L", "Ƚ": "L", "Ɫ": "L", "Ⱡ": "L", "Ꝉ": "L", "Ꝇ": "L", "Ꞁ": "L", "Ǉ": "LJ", "ǈ": "Lj", "Ⓜ": "M", "Ｍ": "M", "Ḿ": "M", "Ṁ": "M", "Ṃ": "M", "Ɱ": "M", "Ɯ": "M", "Ⓝ": "N", "Ｎ": "N", "Ǹ": "N", "Ń": "N", "Ñ": "N", "Ṅ": "N", "Ň": "N", "Ṇ": "N", "Ņ": "N", "Ṋ": "N", "Ṉ": "N", "Ƞ": "N", "Ɲ": "N", "Ꞑ": "N", "Ꞥ": "N", "Ǌ": "NJ", "ǋ": "Nj", "Ⓞ": "O", "Ｏ": "O", "Ò": "O", "Ó": "O", "Ô": "O", "Ồ": "O", "Ố": "O", "Ỗ": "O", "Ổ": "O", "Õ": "O", "Ṍ": "O", "Ȭ": "O", "Ṏ": "O", "Ō": "O", "Ṑ": "O", "Ṓ": "O", "Ŏ": "O", "Ȯ": "O", "Ȱ": "O", "Ö": "O", "Ȫ": "O", "Ỏ": "O", "Ő": "O", "Ǒ": "O", "Ȍ": "O", "Ȏ": "O", "Ơ": "O", "Ờ": "O", "Ớ": "O", "Ỡ": "O", "Ở": "O", "Ợ": "O", "Ọ": "O", "Ộ": "O", "Ǫ": "O", "Ǭ": "O", "Ø": "O", "Ǿ": "O", "Ɔ": "O", "Ɵ": "O", "Ꝋ": "O", "Ꝍ": "O", "Œ": "OE", "Ƣ": "OI", "Ꝏ": "OO", "Ȣ": "OU", "Ⓟ": "P", "Ｐ": "P", "Ṕ": "P", "Ṗ": "P", "Ƥ": "P", "Ᵽ": "P", "Ꝑ": "P", "Ꝓ": "P", "Ꝕ": "P", "Ⓠ": "Q", "Ｑ": "Q", "Ꝗ": "Q", "Ꝙ": "Q", "Ɋ": "Q", "Ⓡ": "R", "Ｒ": "R", "Ŕ": "R", "Ṙ": "R", "Ř": "R", "Ȑ": "R", "Ȓ": "R", "Ṛ": "R", "Ṝ": "R", "Ŗ": "R", "Ṟ": "R", "Ɍ": "R", "Ɽ": "R", "Ꝛ": "R", "Ꞧ": "R", "Ꞃ": "R", "Ⓢ": "S", "Ｓ": "S", "ẞ": "S", "Ś": "S", "Ṥ": "S", "Ŝ": "S", "Ṡ": "S", "Š": "S", "Ṧ": "S", "Ṣ": "S", "Ṩ": "S", "Ș": "S", "Ş": "S", "Ȿ": "S", "Ꞩ": "S", "Ꞅ": "S", "Ⓣ": "T", "Ｔ": "T", "Ṫ": "T", "Ť": "T", "Ṭ": "T", "Ț": "T", "Ţ": "T", "Ṱ": "T", "Ṯ": "T", "Ŧ": "T", "Ƭ": "T", "Ʈ": "T", "Ⱦ": "T", "Ꞇ": "T", "Ꜩ": "TZ", "Ⓤ": "U", "Ｕ": "U", "Ù": "U", "Ú": "U", "Û": "U", "Ũ": "U", "Ṹ": "U", "Ū": "U", "Ṻ": "U", "Ŭ": "U", "Ü": "U", "Ǜ": "U", "Ǘ": "U", "Ǖ": "U", "Ǚ": "U", "Ủ": "U", "Ů": "U", "Ű": "U", "Ǔ": "U", "Ȕ": "U", "Ȗ": "U", "Ư": "U", "Ừ": "U", "Ứ": "U", "Ữ": "U", "Ử": "U", "Ự": "U", "Ụ": "U", "Ṳ": "U", "Ų": "U", "Ṷ": "U", "Ṵ": "U", "Ʉ": "U", "Ⓥ": "V", "Ｖ": "V", "Ṽ": "V", "Ṿ": "V", "Ʋ": "V", "Ꝟ": "V", "Ʌ": "V", "Ꝡ": "VY", "Ⓦ": "W", "Ｗ": "W", "Ẁ": "W", "Ẃ": "W", "Ŵ": "W", "Ẇ": "W", "Ẅ": "W", "Ẉ": "W", "Ⱳ": "W", "Ⓧ": "X", "Ｘ": "X", "Ẋ": "X", "Ẍ": "X", "Ⓨ": "Y", "Ｙ": "Y", "Ỳ": "Y", "Ý": "Y", "Ŷ": "Y", "Ỹ": "Y", "Ȳ": "Y", "Ẏ": "Y", "Ÿ": "Y", "Ỷ": "Y", "Ỵ": "Y", "Ƴ": "Y", "Ɏ": "Y", "Ỿ": "Y", "Ⓩ": "Z", "Ｚ": "Z", "Ź": "Z", "Ẑ": "Z", "Ż": "Z", "Ž": "Z", "Ẓ": "Z", "Ẕ": "Z", "Ƶ": "Z", "Ȥ": "Z", "Ɀ": "Z", "Ⱬ": "Z", "Ꝣ": "Z", "ⓐ": "a", "ａ": "a", "ẚ": "a", "à": "a", "á": "a", "â": "a", "ầ": "a", "ấ": "a", "ẫ": "a", "ẩ": "a", "ã": "a", "ā": "a", "ă": "a", "ằ": "a", "ắ": "a", "ẵ": "a", "ẳ": "a", "ȧ": "a", "ǡ": "a", "ä": "a", "ǟ": "a", "ả": "a", "å": "a", "ǻ": "a", "ǎ": "a", "ȁ": "a", "ȃ": "a", "ạ": "a", "ậ": "a", "ặ": "a", "ḁ": "a", "ą": "a", "ⱥ": "a", "ɐ": "a", "ꜳ": "aa", "æ": "ae", "ǽ": "ae", "ǣ": "ae", "ꜵ": "ao", "ꜷ": "au", "ꜹ": "av", "ꜻ": "av", "ꜽ": "ay", "ⓑ": "b", "ｂ": "b", "ḃ": "b", "ḅ": "b", "ḇ": "b", "ƀ": "b", "ƃ": "b", "ɓ": "b", "ⓒ": "c", "ｃ": "c", "ć": "c", "ĉ": "c", "ċ": "c", "č": "c", "ç": "c", "ḉ": "c", "ƈ": "c", "ȼ": "c", "ꜿ": "c", "ↄ": "c", "ⓓ": "d", "ｄ": "d", "ḋ": "d", "ď": "d", "ḍ": "d", "ḑ": "d", "ḓ": "d", "ḏ": "d", "đ": "d", "ƌ": "d", "ɖ": "d", "ɗ": "d", "ꝺ": "d", "ǳ": "dz", "ǆ": "dz", "ⓔ": "e", "ｅ": "e", "è": "e", "é": "e", "ê": "e", "ề": "e", "ế": "e", "ễ": "e", "ể": "e", "ẽ": "e", "ē": "e", "ḕ": "e", "ḗ": "e", "ĕ": "e", "ė": "e", "ë": "e", "ẻ": "e", "ě": "e", "ȅ": "e", "ȇ": "e", "ẹ": "e", "ệ": "e", "ȩ": "e", "ḝ": "e", "ę": "e", "ḙ": "e", "ḛ": "e", "ɇ": "e", "ɛ": "e", "ǝ": "e", "ⓕ": "f", "ｆ": "f", "ḟ": "f", "ƒ": "f", "ꝼ": "f", "ⓖ": "g", "ｇ": "g", "ǵ": "g", "ĝ": "g", "ḡ": "g", "ğ": "g", "ġ": "g", "ǧ": "g", "ģ": "g", "ǥ": "g", "ɠ": "g", "ꞡ": "g", "ᵹ": "g", "ꝿ": "g", "ⓗ": "h", "ｈ": "h", "ĥ": "h", "ḣ": "h", "ḧ": "h", "ȟ": "h", "ḥ": "h", "ḩ": "h", "ḫ": "h", "ẖ": "h", "ħ": "h", "ⱨ": "h", "ⱶ": "h", "ɥ": "h", "ƕ": "hv", "ⓘ": "i", "ｉ": "i", "ì": "i", "í": "i", "î": "i", "ĩ": "i", "ī": "i", "ĭ": "i", "ï": "i", "ḯ": "i", "ỉ": "i", "ǐ": "i", "ȉ": "i", "ȋ": "i", "ị": "i", "į": "i", "ḭ": "i", "ɨ": "i", "ı": "i", "ⓙ": "j", "ｊ": "j", "ĵ": "j", "ǰ": "j", "ɉ": "j", "ⓚ": "k", "ｋ": "k", "ḱ": "k", "ǩ": "k", "ḳ": "k", "ķ": "k", "ḵ": "k", "ƙ": "k", "ⱪ": "k", "ꝁ": "k", "ꝃ": "k", "ꝅ": "k", "ꞣ": "k", "ⓛ": "l", "ｌ": "l", "ŀ": "l", "ĺ": "l", "ľ": "l", "ḷ": "l", "ḹ": "l", "ļ": "l", "ḽ": "l", "ḻ": "l", "ſ": "l", "ł": "l", "ƚ": "l", "ɫ": "l", "ⱡ": "l", "ꝉ": "l", "ꞁ": "l", "ꝇ": "l", "ǉ": "lj", "ⓜ": "m", "ｍ": "m", "ḿ": "m", "ṁ": "m", "ṃ": "m", "ɱ": "m", "ɯ": "m", "ⓝ": "n", "ｎ": "n", "ǹ": "n", "ń": "n", "ñ": "n", "ṅ": "n", "ň": "n", "ṇ": "n", "ņ": "n", "ṋ": "n", "ṉ": "n", "ƞ": "n", "ɲ": "n", "ŉ": "n", "ꞑ": "n", "ꞥ": "n", "ǌ": "nj", "ⓞ": "o", "ｏ": "o", "ò": "o", "ó": "o", "ô": "o", "ồ": "o", "ố": "o", "ỗ": "o", "ổ": "o", "õ": "o", "ṍ": "o", "ȭ": "o", "ṏ": "o", "ō": "o", "ṑ": "o", "ṓ": "o", "ŏ": "o", "ȯ": "o", "ȱ": "o", "ö": "o", "ȫ": "o", "ỏ": "o", "ő": "o", "ǒ": "o", "ȍ": "o", "ȏ": "o", "ơ": "o", "ờ": "o", "ớ": "o", "ỡ": "o", "ở": "o", "ợ": "o", "ọ": "o", "ộ": "o", "ǫ": "o", "ǭ": "o", "ø": "o", "ǿ": "o", "ɔ": "o", "ꝋ": "o", "ꝍ": "o", "ɵ": "o", "œ": "oe", "ƣ": "oi", "ȣ": "ou", "ꝏ": "oo", "ⓟ": "p", "ｐ": "p", "ṕ": "p", "ṗ": "p", "ƥ": "p", "ᵽ": "p", "ꝑ": "p", "ꝓ": "p", "ꝕ": "p", "ⓠ": "q", "ｑ": "q", "ɋ": "q", "ꝗ": "q", "ꝙ": "q", "ⓡ": "r", "ｒ": "r", "ŕ": "r", "ṙ": "r", "ř": "r", "ȑ": "r", "ȓ": "r", "ṛ": "r", "ṝ": "r", "ŗ": "r", "ṟ": "r", "ɍ": "r", "ɽ": "r", "ꝛ": "r", "ꞧ": "r", "ꞃ": "r", "ⓢ": "s", "ｓ": "s", "ß": "s", "ś": "s", "ṥ": "s", "ŝ": "s", "ṡ": "s", "š": "s", "ṧ": "s", "ṣ": "s", "ṩ": "s", "ș": "s", "ş": "s", "ȿ": "s", "ꞩ": "s", "ꞅ": "s", "ẛ": "s", "ⓣ": "t", "ｔ": "t", "ṫ": "t", "ẗ": "t", "ť": "t", "ṭ": "t", "ț": "t", "ţ": "t", "ṱ": "t", "ṯ": "t", "ŧ": "t", "ƭ": "t", "ʈ": "t", "ⱦ": "t", "ꞇ": "t", "ꜩ": "tz", "ⓤ": "u", "ｕ": "u", "ù": "u", "ú": "u", "û": "u", "ũ": "u", "ṹ": "u", "ū": "u", "ṻ": "u", "ŭ": "u", "ü": "u", "ǜ": "u", "ǘ": "u", "ǖ": "u", "ǚ": "u", "ủ": "u", "ů": "u", "ű": "u", "ǔ": "u", "ȕ": "u", "ȗ": "u", "ư": "u", "ừ": "u", "ứ": "u", "ữ": "u", "ử": "u", "ự": "u", "ụ": "u", "ṳ": "u", "ų": "u", "ṷ": "u", "ṵ": "u", "ʉ": "u", "ⓥ": "v", "ｖ": "v", "ṽ": "v", "ṿ": "v", "ʋ": "v", "ꝟ": "v", "ʌ": "v", "ꝡ": "vy", "ⓦ": "w", "ｗ": "w", "ẁ": "w", "ẃ": "w", "ŵ": "w", "ẇ": "w", "ẅ": "w", "ẘ": "w", "ẉ": "w", "ⱳ": "w", "ⓧ": "x", "ｘ": "x", "ẋ": "x", "ẍ": "x", "ⓨ": "y", "ｙ": "y", "ỳ": "y", "ý": "y", "ŷ": "y", "ỹ": "y", "ȳ": "y", "ẏ": "y", "ÿ": "y", "ỷ": "y", "ẙ": "y", "ỵ": "y", "ƴ": "y", "ɏ": "y", "ỿ": "y", "ⓩ": "z", "ｚ": "z", "ź": "z", "ẑ": "z", "ż": "z", "ž": "z", "ẓ": "z", "ẕ": "z", "ƶ": "z", "ȥ": "z", "ɀ": "z", "ⱬ": "z", "ꝣ": "z", "Ά": "Α", "Έ": "Ε", "Ή": "Η", "Ί": "Ι", "Ϊ": "Ι", "Ό": "Ο", "Ύ": "Υ", "Ϋ": "Υ", "Ώ": "Ω", "ά": "α", "έ": "ε", "ή": "η", "ί": "ι", "ϊ": "ι", "ΐ": "ι", "ό": "ο", "ύ": "υ", "ϋ": "υ", "ΰ": "υ", "ώ": "ω", "ς": "σ", "’": "'" } }), t.define("select2/data/base", ["../utils"], function (n) { function t() { t.__super__.constructor.call(this) } return n.Extend(t, n.Observable), t.prototype.current = function () { throw new Error("The `current` method must be defined in child classes."); }, t.prototype.query = function () { throw new Error("The `query` method must be defined in child classes."); }, t.prototype.bind = function () { }, t.prototype.destroy = function () { }, t.prototype.generateResultId = function (t, i) { var r = t.id + "-result-"; return r += n.generateChars(4), r += null != i.id ? "-" + i.id.toString() : "-" + n.generateChars(4), r }, t }), t.define("select2/data/select", ["./base", "../utils", "jquery"], function (n, t, i) { function r(n, t) { this.$element = n; this.options = t; r.__super__.constructor.call(this) } return t.Extend(r, n), r.prototype.current = function (n) { var t = [], r = this; this.$element.find(":selected").each(function () { var n = i(this), u = r.item(n); t.push(u) }); n(t) }, r.prototype.select = function (n) { var t = this, r; if (n.selected = !0, i(n.element).is("option")) return n.element.selected = !0, void this.$element.trigger("change"); this.$element.prop("multiple") ? this.current(function (r) { var f = [], u, e; for (n = [n], n.push.apply(n, r), u = 0; u < n.length; u++) e = n[u].id, -1 === i.inArray(e, f) && f.push(e); t.$element.val(f); t.$element.trigger("change") }) : (r = n.id, this.$element.val(r), this.$element.trigger("change")) }, r.prototype.unselect = function (n) { var t = this; if (this.$element.prop("multiple")) { if (n.selected = !1, i(n.element).is("option")) return n.element.selected = !1, void this.$element.trigger("change"); this.current(function (r) { for (var e, u = [], f = 0; f < r.length; f++) e = r[f].id, e !== n.id && -1 === i.inArray(e, u) && u.push(e); t.$element.val(u); t.$element.trigger("change") }) } }, r.prototype.bind = function (n) { var t = this; this.container = n; n.on("select", function (n) { t.select(n.data) }); n.on("unselect", function (n) { t.unselect(n.data) }) }, r.prototype.destroy = function () { this.$element.find("*").each(function () { t.RemoveData(this) }) }, r.prototype.query = function (n, t) { var r = [], u = this; this.$element.children().each(function () { var t = i(this), e, f; (t.is("option") || t.is("optgroup")) && (e = u.item(t), f = u.matches(n, e), null !== f && r.push(f)) }); t({ results: r }) }, r.prototype.addOptions = function (n) { t.appendMany(this.$element, n) }, r.prototype.option = function (n) { var r, f, u; return n.children ? (r = document.createElement("optgroup"), r.label = n.text) : (r = document.createElement("option"), void 0 !== r.textContent ? r.textContent = n.text : r.innerText = n.text), void 0 !== n.id && (r.value = n.id), n.disabled && (r.disabled = !0), n.selected && (r.selected = !0), n.title && (r.title = n.title), f = i(r), u = this._normalizeItem(n), u.element = r, t.StoreData(r, "data", u), f }, r.prototype.item = function (n) { var r = {}, o, s; if (null != (r = t.GetData(n[0], "data"))) return r; if (n.is("option")) r = { id: n.val(), text: n.text(), disabled: n.prop("disabled"), selected: n.prop("selected"), title: n.prop("title") }; else if (n.is("optgroup")) { r = { text: n.prop("label"), children: [], title: n.prop("title") }; for (var f = n.children("option"), e = [], u = 0; u < f.length; u++) o = i(f[u]), s = this.item(o), e.push(s); r.children = e } return r = this._normalizeItem(r), r.element = n[0], t.StoreData(n[0], "data", r), r }, r.prototype._normalizeItem = function (n) { n !== Object(n) && (n = { id: n, text: n }); n = i.extend({}, { text: "" }, n); return null != n.id && (n.id = n.id.toString()), null != n.text && (n.text = n.text.toString()), null == n._resultId && n.id && null != this.container && (n._resultId = this.generateResultId(this.container, n)), i.extend({}, { selected: !1, disabled: !1 }, n) }, r.prototype.matches = function (n, t) { return this.options.get("matcher")(n, t) }, r }), t.define("select2/data/array", ["./select", "../utils", "jquery"], function (n, t, i) { function r(n, t) { var i = t.get("data") || []; r.__super__.constructor.call(this, n, t); this.addOptions(this.convertToOptions(i)) } return t.Extend(r, n), r.prototype.select = function (n) { var t = this.$element.find("option").filter(function (t, i) { return i.value == n.id.toString() }); 0 === t.length && (t = this.option(n), this.addOptions(t)); r.__super__.select.call(this, n) }, r.prototype.convertToOptions = function (n) { function c(n) { return function () { return i(this).val() == n.id } } for (var r, f, h, l = this, e = this.$element.find("option"), a = e.map(function () { return l.item(i(this)).id }).get(), o = [], u = 0; u < n.length; u++) if (r = this._normalizeItem(n[u]), i.inArray(r.id, a) >= 0) { var s = e.filter(c(r)), v = this.item(s), y = i.extend(!0, {}, r, v), p = this.option(y); s.replaceWith(p) } else f = this.option(r), r.children && (h = this.convertToOptions(r.children), t.appendMany(f, h)), o.push(f); return o }, r }), t.define("select2/data/ajax", ["./array", "../utils", "jquery"], function (n, t, i) { function r(n, t) { this.ajaxOptions = this._applyDefaults(t.get("ajax")); null != this.ajaxOptions.processResults && (this.processResults = this.ajaxOptions.processResults); r.__super__.constructor.call(this, n, t) } return t.Extend(r, n), r.prototype._applyDefaults = function (n) { var t = { data: function (n) { return i.extend({}, n, { q: n.term }) }, transport: function (n, t, r) { var u = i.ajax(n); return u.then(t), u.fail(r), u } }; return i.extend({}, t, n, !0) }, r.prototype.processResults = function (n) { return n }, r.prototype.query = function (n, t) { function f() { var f = r.transport(r, function (r) { var f = u.processResults(r, n); u.options.get("debug") && window.console && console.error && (f && f.results && i.isArray(f.results) || console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")); t(f) }, function () { "status" in f && (0 === f.status || "0" === f.status) || u.trigger("results:message", { message: "errorLoading" }) }); u._request = f } var u = this, r; null != this._request && (i.isFunction(this._request.abort) && this._request.abort(), this._request = null); r = i.extend({ type: "GET" }, this.ajaxOptions); "function" == typeof r.url && (r.url = r.url.call(this.$element, n)); "function" == typeof r.data && (r.data = r.data.call(this.$element, n)); this.ajaxOptions.delay && null != n.term ? (this._queryTimeout && window.clearTimeout(this._queryTimeout), this._queryTimeout = window.setTimeout(f, this.ajaxOptions.delay)) : f() }, r }), t.define("select2/data/tags", ["jquery"], function (n) { function t(t, i, r) { var f = r.get("tags"), o = r.get("createTag"), e, u; if (void 0 !== o && (this.createTag = o), e = r.get("insertTag"), void 0 !== e && (this.insertTag = e), t.call(this, i, r), n.isArray(f)) for (u = 0; u < f.length; u++) { var s = f[u], h = this._normalizeItem(s), c = this.option(h); this.$element.append(c) } } return t.prototype.query = function (n, t, i) { function u(n, f) { for (var s, l, h, c, e = n.results, o = 0; o < e.length; o++) if (s = e[o], l = null != s.children && !u({ results: s.children }, !0), (s.text || "").toUpperCase() === (t.term || "").toUpperCase() || l) return !f && (n.data = e, void i(n)); if (f) return !0; h = r.createTag(t); null != h && (c = r.option(h), c.attr("data-select2-tag", !0), r.addOptions([c]), r.insertTag(e, h)); n.results = e; i(n) } var r = this; if (this._removeOldTags(), null == t.term || null != t.page) return void n.call(this, t, i); n.call(this, t, u) }, t.prototype.createTag = function (t, i) { var r = n.trim(i.term); return "" === r ? null : { id: r, text: r } }, t.prototype.insertTag = function (n, t, i) { t.unshift(i) }, t.prototype._removeOldTags = function () { this._lastTag; this.$element.find("option[data-select2-tag]").each(function () { this.selected || n(this).remove() }) }, t }), t.define("select2/data/tokenizer", ["jquery"], function (n) { function t(n, t, i) { var r = i.get("tokenizer"); void 0 !== r && (this.tokenizer = r); n.call(this, t, i) } return t.prototype.bind = function (n, t, i) { n.call(this, t, i); this.$search = t.dropdown.$search || t.selection.$search || i.find(".select2-search__field") }, t.prototype.query = function (t, i, r) { function e(t) { var i = u._normalizeItem(t), r; u.$element.find("option").filter(function () { return n(this).val() === i.id }).length || (r = u.option(i), r.attr("data-select2-tag", !0), u._removeOldTags(), u.addOptions([r])); o(i) } function o(n) { u.trigger("select", { data: n }) } var u = this, f; i.term = i.term || ""; f = this.tokenizer(i, this.options, e); f.term !== i.term && (this.$search.length && (this.$search.val(f.term), this.$search.focus()), i.term = f.term); t.call(this, i, r) }, t.prototype.tokenizer = function (t, i, r, u) { for (var o, h = r.get("tokenSeparators") || [], e = i.term, f = 0, c = this.createTag || function (n) { return { id: n.term, text: n.term } }; f < e.length;) if (o = e[f], -1 !== n.inArray(o, h)) { var l = e.substr(0, f), a = n.extend({}, i, { term: l }), s = c(a); null != s ? (u(s), e = e.substr(f + 1) || "", f = 0) : f++ } else f++; return { term: e } }, t }), t.define("select2/data/minimumInputLength", [], function () { function n(n, t, i) { this.minimumInputLength = i.get("minimumInputLength"); n.call(this, t, i) } return n.prototype.query = function (n, t, i) { if (t.term = t.term || "", t.term.length < this.minimumInputLength) return void this.trigger("results:message", { message: "inputTooShort", args: { minimum: this.minimumInputLength, input: t.term, params: t } }); n.call(this, t, i) }, n }), t.define("select2/data/maximumInputLength", [], function () { function n(n, t, i) { this.maximumInputLength = i.get("maximumInputLength"); n.call(this, t, i) } return n.prototype.query = function (n, t, i) { if (t.term = t.term || "", this.maximumInputLength > 0 && t.term.length > this.maximumInputLength) return void this.trigger("results:message", { message: "inputTooLong", args: { maximum: this.maximumInputLength, input: t.term, params: t } }); n.call(this, t, i) }, n }), t.define("select2/data/maximumSelectionLength", [], function () { function n(n, t, i) { this.maximumSelectionLength = i.get("maximumSelectionLength"); n.call(this, t, i) } return n.prototype.query = function (n, t, i) { var r = this; this.current(function (u) { var f = null != u ? u.length : 0; if (r.maximumSelectionLength > 0 && f >= r.maximumSelectionLength) return void r.trigger("results:message", { message: "maximumSelected", args: { maximum: r.maximumSelectionLength } }); n.call(r, t, i) }) }, n }), t.define("select2/dropdown", ["jquery", "./utils"], function (n, t) { function i(n, t) { this.$element = n; this.options = t; i.__super__.constructor.call(this) } return t.Extend(i, t.Observable), i.prototype.render = function () { var t = n('<span class="select2-dropdown"><span class="select2-results"><\/span><\/span>'); return t.attr("dir", this.options.get("dir")), this.$dropdown = t, t }, i.prototype.bind = function () { }, i.prototype.position = function () { }, i.prototype.destroy = function () { this.$dropdown.remove() }, i }), t.define("select2/dropdown/search", ["jquery", "../utils"], function (n) { function t() { } return t.prototype.render = function (t) { var r = t.call(this), i = n('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /><\/span>'); return this.$searchContainer = i, this.$search = i.find("input"), r.prepend(i), r }, t.prototype.bind = function (t, i, r) { var u = this; t.call(this, i, r); this.$search.on("keydown", function (n) { u.trigger("keypress", n); u._keyUpPrevented = n.isDefaultPrevented() }); this.$search.on("input", function () { n(this).off("keyup") }); this.$search.on("keyup input", function (n) { u.handleSearch(n) }); i.on("open", function () { u.$search.attr("tabindex", 0); u.$search.focus(); window.setTimeout(function () { u.$search.focus() }, 0) }); i.on("close", function () { u.$search.attr("tabindex", -1); u.$search.val(""); u.$search.blur() }); i.on("focus", function () { i.isOpen() || u.$search.focus() }); i.on("results:all", function (n) { (null == n.query.term || "" === n.query.term) && (u.showSearch(n) ? u.$searchContainer.removeClass("select2-search--hide") : u.$searchContainer.addClass("select2-search--hide")) }) }, t.prototype.handleSearch = function () { if (!this._keyUpPrevented) { var n = this.$search.val(); this.trigger("query", { term: n }) } this._keyUpPrevented = !1 }, t.prototype.showSearch = function () { return !0 }, t }), t.define("select2/dropdown/hidePlaceholder", [], function () { function n(n, t, i, r) { this.placeholder = this.normalizePlaceholder(i.get("placeholder")); n.call(this, t, i, r) } return n.prototype.append = function (n, t) { t.results = this.removePlaceholder(t.results); n.call(this, t) }, n.prototype.normalizePlaceholder = function (n, t) { return "string" == typeof t && (t = { id: "", text: t }), t }, n.prototype.removePlaceholder = function (n, t) { for (var u, r = t.slice(0), i = t.length - 1; i >= 0; i--) u = t[i], this.placeholder.id === u.id && r.splice(i, 1); return r }, n }), t.define("select2/dropdown/infiniteScroll", ["jquery"], function (n) { function t(n, t, i, r) { this.lastParams = {}; n.call(this, t, i, r); this.$loadingMore = this.createLoadingMore(); this.loading = !1 } return t.prototype.append = function (n, t) { this.$loadingMore.remove(); this.loading = !1; n.call(this, t); this.showLoadingMore(t) && this.$results.append(this.$loadingMore) }, t.prototype.bind = function (t, i, r) { var u = this; t.call(this, i, r); i.on("query", function (n) { u.lastParams = n; u.loading = !0 }); i.on("query:append", function (n) { u.lastParams = n; u.loading = !0 }); this.$results.on("scroll", function () { var t = n.contains(document.documentElement, u.$loadingMore[0]); !u.loading && t && u.$results.offset().top + u.$results.outerHeight(!1) + 50 >= u.$loadingMore.offset().top + u.$loadingMore.outerHeight(!1) && u.loadMore() }) }, t.prototype.loadMore = function () { this.loading = !0; var t = n.extend({}, { page: 1 }, this.lastParams); t.page++; this.trigger("query:append", t) }, t.prototype.showLoadingMore = function (n, t) { return t.pagination && t.pagination.more }, t.prototype.createLoadingMore = function () { var t = n('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"><\/li>'), i = this.options.get("translations").get("loadingMore"); return t.html(i(this.lastParams)), t }, t }), t.define("select2/dropdown/attachBody", ["jquery", "../utils"], function (n, t) { function i(t, i, r) { this.$dropdownParent = r.get("dropdownParent") || n(document.body); t.call(this, i, r) } return i.prototype.bind = function (n, t, i) { var r = this, u = !1; n.call(this, t, i); t.on("open", function () { r._showDropdown(); r._attachPositioningHandler(t); u || (u = !0, t.on("results:all", function () { r._positionDropdown(); r._resizeDropdown() }), t.on("results:append", function () { r._positionDropdown(); r._resizeDropdown() })) }); t.on("close", function () { r._hideDropdown(); r._detachPositioningHandler(t) }); this.$dropdownContainer.on("mousedown", function (n) { n.stopPropagation() }) }, i.prototype.destroy = function (n) { n.call(this); this.$dropdownContainer.remove() }, i.prototype.position = function (n, t, i) { t.attr("class", i.attr("class")); t.removeClass("select2"); t.addClass("select2-container--open"); t.css({ position: "absolute", top: -999999 }); this.$container = i }, i.prototype.render = function (t) { var i = n("<span><\/span>"), r = t.call(this); return i.append(r), this.$dropdownContainer = i, i }, i.prototype._hideDropdown = function () { this.$dropdownContainer.detach() }, i.prototype._attachPositioningHandler = function (i, r) { var u = this, f = "scroll.select2." + r.id, o = "resize.select2." + r.id, s = "orientationchange.select2." + r.id, e = this.$container.parents().filter(t.hasScroll); e.each(function () { t.StoreData(this, "select2-scroll-position", { x: n(this).scrollLeft(), y: n(this).scrollTop() }) }); e.on(f, function () { var i = t.GetData(this, "select2-scroll-position"); n(this).scrollTop(i.y) }); n(window).on(f + " " + o + " " + s, function () { u._positionDropdown(); u._resizeDropdown() }) }, i.prototype._detachPositioningHandler = function (i, r) { var u = "scroll.select2." + r.id, f = "resize.select2." + r.id, e = "orientationchange.select2." + r.id; this.$container.parents().filter(t.hasScroll).off(u); n(window).off(u + " " + f + " " + e) }, i.prototype._positionDropdown = function () { var s = n(window), u = this.$dropdown.hasClass("select2-dropdown--above"), v = this.$dropdown.hasClass("select2-dropdown--below"), t = null, i = this.$container.offset(), r, o; i.bottom = i.top + this.$container.outerHeight(!1); r = { height: this.$container.outerHeight(!1) }; r.top = i.top; r.bottom = i.top + r.height; var h = { height: this.$dropdown.outerHeight(!1) }, c = { top: s.scrollTop(), bottom: s.scrollTop() + s.height() }, l = c.top < i.top - h.height, a = c.bottom > i.bottom + h.height, f = { left: i.left, top: r.bottom }, e = this.$dropdownParent; "static" === e.css("position") && (e = e.offsetParent()); o = e.offset(); f.top -= o.top; f.left -= o.left; u || v || (t = "below"); a || !l || u ? !l && a && u && (t = "below") : t = "above"; ("above" == t || u && "below" !== t) && (f.top = r.top - o.top - h.height); null != t && (this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--" + t), this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--" + t)); this.$dropdownContainer.css(f) }, i.prototype._resizeDropdown = function () { var n = { width: this.$container.outerWidth(!1) + "px" }; this.options.get("dropdownAutoWidth") && (n.minWidth = n.width, n.position = "relative", n.width = "auto"); this.$dropdown.css(n) }, i.prototype._showDropdown = function () { this.$dropdownContainer.appendTo(this.$dropdownParent); this._positionDropdown(); this._resizeDropdown() }, i }), t.define("select2/dropdown/minimumResultsForSearch", [], function () { function n(t) { for (var u, i = 0, r = 0; r < t.length; r++) u = t[r], u.children ? i += n(u.children) : i++; return i } function t(n, t, i, r) { this.minimumResultsForSearch = i.get("minimumResultsForSearch"); this.minimumResultsForSearch < 0 && (this.minimumResultsForSearch = 1 / 0); n.call(this, t, i, r) } return t.prototype.showSearch = function (t, i) { return !(n(i.data.results) < this.minimumResultsForSearch) && t.call(this, i) }, t }), t.define("select2/dropdown/selectOnClose", ["../utils"], function (n) { function t() { } return t.prototype.bind = function (n, t, i) { var r = this; n.call(this, t, i); t.on("close", function (n) { r._handleSelectOnClose(n) }) }, t.prototype._handleSelectOnClose = function (t, i) { var u, f, r; i && null != i.originalSelect2Event && (u = i.originalSelect2Event, "select" === u._type || "unselect" === u._type) || (f = this.getHighlightedResults(), f.length < 1 || (r = n.GetData(f[0], "data"), null != r.element && r.element.selected || null == r.element && r.selected || this.trigger("select", { data: r }))) }, t }), t.define("select2/dropdown/closeOnSelect", [], function () { function n() { } return n.prototype.bind = function (n, t, i) { var r = this; n.call(this, t, i); t.on("select", function (n) { r._selectTriggered(n) }); t.on("unselect", function (n) { r._selectTriggered(n) }) }, n.prototype._selectTriggered = function (n, t) { var i = t.originalEvent; i && (i.ctrlKey || i.metaKey) || this.trigger("close", { originalEvent: i, originalSelect2Event: t }) }, n }), t.define("select2/i18n/en", [], function () { return { errorLoading: function () { return "The results could not be loaded." }, inputTooLong: function (n) { var t = n.input.length - n.maximum, i = "Please delete " + t + " character"; return 1 != t && (i += "s"), i }, inputTooShort: function (n) { return "Please enter " + (n.minimum - n.input.length) + " or more characters" }, loadingMore: function () { return "Loading more results…" }, maximumSelected: function (n) { var t = "You can only select " + n.maximum + " item"; return 1 != n.maximum && (t += "s"), t }, noResults: function () { return "No results found" }, searching: function () { return "Searching…" }, removeAllItems: function () { return "Remove all items" } } }), t.define("select2/defaults", ["jquery", "require", "./results", "./selection/single", "./selection/multiple", "./selection/placeholder", "./selection/allowClear", "./selection/search", "./selection/eventRelay", "./utils", "./translation", "./diacritics", "./data/select", "./data/array", "./data/ajax", "./data/tags", "./data/tokenizer", "./data/minimumInputLength", "./data/maximumInputLength", "./data/maximumSelectionLength", "./dropdown", "./dropdown/search", "./dropdown/hidePlaceholder", "./dropdown/infiniteScroll", "./dropdown/attachBody", "./dropdown/minimumResultsForSearch", "./dropdown/selectOnClose", "./dropdown/closeOnSelect", "./i18n/en"], function (n, t, i, r, u, f, e, o, s, h, c, l, a, v, y, p, w, b, k, d, g, nt, tt, it, rt, ut, ft, et, ot) { function st() { this.reset() } return st.prototype.apply = function (l) { var vt, yt, pt, wt, bt, kt, dt, ct, lt, st, ot, ht, gt, at; if ((l = n.extend(!0, {}, this.defaults, l), null == l.dataAdapter) && ((l.dataAdapter = null != l.ajax ? y : null != l.data ? v : a, l.minimumInputLength > 0 && (l.dataAdapter = h.Decorate(l.dataAdapter, b)), l.maximumInputLength > 0 && (l.dataAdapter = h.Decorate(l.dataAdapter, k)), l.maximumSelectionLength > 0 && (l.dataAdapter = h.Decorate(l.dataAdapter, d)), l.tags && (l.dataAdapter = h.Decorate(l.dataAdapter, p)), null == l.tokenSeparators && null == l.tokenizer || (l.dataAdapter = h.Decorate(l.dataAdapter, w)), null != l.query) && (vt = t(l.amdBase + "compat/query"), l.dataAdapter = h.Decorate(l.dataAdapter, vt)), null != l.initSelection && (yt = t(l.amdBase + "compat/initSelection"), l.dataAdapter = h.Decorate(l.dataAdapter, yt))), (null == l.resultsAdapter && (l.resultsAdapter = i, null != l.ajax && (l.resultsAdapter = h.Decorate(l.resultsAdapter, it)), null != l.placeholder && (l.resultsAdapter = h.Decorate(l.resultsAdapter, tt)), l.selectOnClose && (l.resultsAdapter = h.Decorate(l.resultsAdapter, ft))), null == l.dropdownAdapter) && (l.multiple ? l.dropdownAdapter = g : (pt = h.Decorate(g, nt), l.dropdownAdapter = pt), (0 !== l.minimumResultsForSearch && (l.dropdownAdapter = h.Decorate(l.dropdownAdapter, ut)), l.closeOnSelect && (l.dropdownAdapter = h.Decorate(l.dropdownAdapter, et)), null != l.dropdownCssClass || null != l.dropdownCss || null != l.adaptDropdownCssClass) && (wt = t(l.amdBase + "compat/dropdownCss"), l.dropdownAdapter = h.Decorate(l.dropdownAdapter, wt)), l.dropdownAdapter = h.Decorate(l.dropdownAdapter, rt)), null == l.selectionAdapter && ((l.selectionAdapter = l.multiple ? u : r, null != l.placeholder && (l.selectionAdapter = h.Decorate(l.selectionAdapter, f)), l.allowClear && (l.selectionAdapter = h.Decorate(l.selectionAdapter, e)), l.multiple && (l.selectionAdapter = h.Decorate(l.selectionAdapter, o)), null != l.containerCssClass || null != l.containerCss || null != l.adaptContainerCssClass) && (bt = t(l.amdBase + "compat/containerCss"), l.selectionAdapter = h.Decorate(l.selectionAdapter, bt)), l.selectionAdapter = h.Decorate(l.selectionAdapter, s)), "string" == typeof l.language && (l.language.indexOf("-") > 0 ? (kt = l.language.split("-"), dt = kt[0], l.language = [l.language, dt]) : l.language = [l.language]), n.isArray(l.language)) { for (ct = new c, l.language.push("en"), lt = l.language, st = 0; st < lt.length; st++) { ot = lt[st]; ht = {}; try { ht = c.loadPath(ot) } catch (n) { try { ot = this.defaults.amdLanguageBase + ot; ht = c.loadPath(ot) } catch (n) { l.debug && window.console && console.warn && console.warn('Select2: The language file for "' + ot + '" could not be automatically loaded. A fallback will be used instead.'); continue } } ct.extend(ht) } l.translations = ct } else gt = c.loadPath(this.defaults.amdLanguageBase + "en"), at = new c(l.language), at.extend(gt), l.translations = at; return l }, st.prototype.reset = function () { function i(n) { function t(n) { return l[n] || n } return n.replace(/[^\u0000-\u007E]/g, t) } function t(r, u) { var f, e, o, s; if ("" === n.trim(r.term)) return u; if (u.children && u.children.length > 0) { for (f = n.extend(!0, {}, u), e = u.children.length - 1; e >= 0; e--) null == t(r, u.children[e]) && f.children.splice(e, 1); return f.children.length > 0 ? f : t(r, f) } return o = i(u.text).toUpperCase(), s = i(r.term).toUpperCase(), o.indexOf(s) > -1 ? u : null } this.defaults = { amdBase: "./", amdLanguageBase: "./i18n/", closeOnSelect: !0, debug: !1, dropdownAutoWidth: !1, escapeMarkup: h.escapeMarkup, language: ot, matcher: t, minimumInputLength: 0, maximumInputLength: 0, maximumSelectionLength: 0, minimumResultsForSearch: 0, selectOnClose: !1, scrollAfterSelect: !1, sorter: function (n) { return n }, templateResult: function (n) { return n.text }, templateSelection: function (n) { return n.text }, theme: "default", width: "resolve" } }, st.prototype.set = function (t, i) { var f = n.camelCase(t), r = {}, u; r[f] = i; u = h._convertData(r); n.extend(!0, this.defaults, u) }, new st }), t.define("select2/options", ["require", "jquery", "./defaults", "./utils"], function (n, t, i, r) { function u(t, u) { if (this.options = t, null != u && this.fromElement(u), this.options = i.apply(this.options), u && u.is("input")) { var f = n(this.get("amdBase") + "compat/inputData"); this.options.dataAdapter = r.Decorate(this.options.dataAdapter, f) } } return u.prototype.fromElement = function (n) { function l(n, t) { return t.toUpperCase() } var a = ["select2"], f, e, s, o, h, c, u, i; for (null == this.options.multiple && (this.options.multiple = n.prop("multiple")), null == this.options.disabled && (this.options.disabled = n.prop("disabled")), null == this.options.language && (n.prop("lang") ? this.options.language = n.prop("lang").toLowerCase() : n.closest("[lang]").prop("lang") && (this.options.language = n.closest("[lang]").prop("lang"))), null == this.options.dir && (this.options.dir = n.prop("dir") ? n.prop("dir") : n.closest("[dir]").prop("dir") ? n.closest("[dir]").prop("dir") : "ltr"), n.prop("disabled", this.options.disabled), n.prop("multiple", this.options.multiple), r.GetData(n[0], "select2Tags") && (this.options.debug && window.console && console.warn && console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'), r.StoreData(n[0], "data", r.GetData(n[0], "select2Tags")), r.StoreData(n[0], "tags", !0)), r.GetData(n[0], "ajaxUrl") && (this.options.debug && window.console && console.warn && console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."), n.attr("ajax--url", r.GetData(n[0], "ajaxUrl")), r.StoreData(n[0], "ajax-Url", r.GetData(n[0], "ajaxUrl"))), f = {}, e = 0; e < n[0].attributes.length; e++) s = n[0].attributes[e].name, o = "data-", s.substr(0, o.length) == o && (h = s.substring(o.length), c = r.GetData(n[0], h), f[h.replace(/-([a-z])/g, l)] = c); t.fn.jquery && "1." == t.fn.jquery.substr(0, 2) && n[0].dataset && (f = t.extend(!0, {}, n[0].dataset, f)); u = t.extend(!0, {}, r.GetData(n[0]), f); u = r._convertData(u); for (i in u) t.inArray(i, a) > -1 || (t.isPlainObject(this.options[i]) ? t.extend(this.options[i], u[i]) : this.options[i] = u[i]); return this }, u.prototype.get = function (n) { return this.options[n] }, u.prototype.set = function (n, t) { this.options[n] = t }, u }), t.define("select2/core", ["jquery", "./options", "./utils", "./keys"], function (n, t, i, r) { var u = function (n, r) { var e, o, f, s, h, c, l; null != i.GetData(n[0], "select2") && i.GetData(n[0], "select2").destroy(); this.$element = n; this.id = this._generateId(n); r = r || {}; this.options = new t(r, n); u.__super__.constructor.call(this); e = n.attr("tabindex") || 0; i.StoreData(n[0], "old-tabindex", e); n.attr("tabindex", "-1"); o = this.options.get("dataAdapter"); this.dataAdapter = new o(n, this.options); f = this.render(); this._placeContainer(f); s = this.options.get("selectionAdapter"); this.selection = new s(n, this.options); this.$selection = this.selection.render(); this.selection.position(this.$selection, f); h = this.options.get("dropdownAdapter"); this.dropdown = new h(n, this.options); this.$dropdown = this.dropdown.render(); this.dropdown.position(this.$dropdown, f); c = this.options.get("resultsAdapter"); this.results = new c(n, this.options, this.dataAdapter); this.$results = this.results.render(); this.results.position(this.$results, this.$dropdown); l = this; this._bindAdapters(); this._registerDomEvents(); this._registerDataEvents(); this._registerSelectionEvents(); this._registerDropdownEvents(); this._registerResultsEvents(); this._registerEvents(); this.dataAdapter.current(function (n) { l.trigger("selection:update", { data: n }) }); n.addClass("select2-hidden-accessible"); n.attr("aria-hidden", "true"); this._syncAttributes(); i.StoreData(n[0], "select2", this); n.data("select2", this) }; return i.Extend(u, i.Observable), u.prototype._generateId = function (n) { var t = ""; return t = null != n.attr("id") ? n.attr("id") : null != n.attr("name") ? n.attr("name") + "-" + i.generateChars(2) : i.generateChars(4), t = t.replace(/(:|\.|\[|\]|,)/g, ""), t = "select2-" + t }, u.prototype._placeContainer = function (n) { n.insertAfter(this.$element); var t = this._resolveWidth(this.$element, this.options.get("width")); null != t && n.css("width", t) }, u.prototype._resolveWidth = function (n, t) { var r, u, f, s, i; if ("resolve" == t) return r = this._resolveWidth(n, "style"), null != r ? r : this._resolveWidth(n, "element"); if ("element" == t) return u = n.outerWidth(!1), u <= 0 ? "auto" : u + "px"; if ("style" == t) { if (f = n.attr("style"), "string" != typeof f) return null; for (var o = f.split(";"), e = 0, h = o.length; e < h; e += 1) if (s = o[e].replace(/\s/g, ""), i = s.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i), null !== i && i.length >= 1) return i[1]; return null } return t }, u.prototype._bindAdapters = function () { this.dataAdapter.bind(this, this.$container); this.selection.bind(this, this.$container); this.dropdown.bind(this, this.$container); this.results.bind(this, this.$container) }, u.prototype._registerDomEvents = function () { var t = this, r; this.$element.on("change.select2", function () { t.dataAdapter.current(function (n) { t.trigger("selection:update", { data: n }) }) }); this.$element.on("focus.select2", function (n) { t.trigger("focus", n) }); this._syncA = i.bind(this._syncAttributes, this); this._syncS = i.bind(this._syncSubtree, this); this.$element[0].attachEvent && this.$element[0].attachEvent("onpropertychange", this._syncA); r = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver; null != r ? (this._observer = new r(function (i) { n.each(i, t._syncA); n.each(i, t._syncS) }), this._observer.observe(this.$element[0], { attributes: !0, childList: !0, subtree: !1 })) : this.$element[0].addEventListener && (this.$element[0].addEventListener("DOMAttrModified", t._syncA, !1), this.$element[0].addEventListener("DOMNodeInserted", t._syncS, !1), this.$element[0].addEventListener("DOMNodeRemoved", t._syncS, !1)) }, u.prototype._registerDataEvents = function () { var n = this; this.dataAdapter.on("*", function (t, i) { n.trigger(t, i) }) }, u.prototype._registerSelectionEvents = function () { var t = this, i = ["toggle", "focus"]; this.selection.on("toggle", function () { t.toggleDropdown() }); this.selection.on("focus", function (n) { t.focus(n) }); this.selection.on("*", function (r, u) { -1 === n.inArray(r, i) && t.trigger(r, u) }) }, u.prototype._registerDropdownEvents = function () { var n = this; this.dropdown.on("*", function (t, i) { n.trigger(t, i) }) }, u.prototype._registerResultsEvents = function () { var n = this; this.results.on("*", function (t, i) { n.trigger(t, i) }) }, u.prototype._registerEvents = function () { var n = this; this.on("open", function () { n.$container.addClass("select2-container--open") }); this.on("close", function () { n.$container.removeClass("select2-container--open") }); this.on("enable", function () { n.$container.removeClass("select2-container--disabled") }); this.on("disable", function () { n.$container.addClass("select2-container--disabled") }); this.on("blur", function () { n.$container.removeClass("select2-container--focus") }); this.on("query", function (t) { n.isOpen() || n.trigger("open", {}); this.dataAdapter.query(t, function (i) { n.trigger("results:all", { data: i, query: t }) }) }); this.on("query:append", function (t) { this.dataAdapter.query(t, function (i) { n.trigger("results:append", { data: i, query: t }) }) }); this.on("keypress", function (t) { var i = t.which; n.isOpen() ? i === r.ESC || i === r.TAB || i === r.UP && t.altKey ? (n.close(), t.preventDefault()) : i === r.ENTER ? (n.trigger("results:select", {}), t.preventDefault()) : i === r.SPACE && t.ctrlKey ? (n.trigger("results:toggle", {}), t.preventDefault()) : i === r.UP ? (n.trigger("results:previous", {}), t.preventDefault()) : i === r.DOWN && (n.trigger("results:next", {}), t.preventDefault()) : (i === r.ENTER || i === r.SPACE || i === r.DOWN && t.altKey) && (n.open(), t.preventDefault()) }) }, u.prototype._syncAttributes = function () { this.options.set("disabled", this.$element.prop("disabled")); this.options.get("disabled") ? (this.isOpen() && this.close(), this.trigger("disable", {})) : this.trigger("enable", {}) }, u.prototype._syncSubtree = function (n, t) { var i = !1, f = this, r, u; if (!n || !n.target || "OPTION" === n.target.nodeName || "OPTGROUP" === n.target.nodeName) { if (t) if (t.addedNodes && t.addedNodes.length > 0) for (r = 0; r < t.addedNodes.length; r++) u = t.addedNodes[r], u.selected && (i = !0); else t.removedNodes && t.removedNodes.length > 0 && (i = !0); else i = !0; i && this.dataAdapter.current(function (n) { f.trigger("selection:update", { data: n }) }) } }, u.prototype.trigger = function (n, t) { var r = u.__super__.trigger, f = { open: "opening", close: "closing", select: "selecting", unselect: "unselecting", clear: "clearing" }, e, i; if ((void 0 === t && (t = {}), n in f) && (e = f[n], i = { prevented: !1, name: n, args: t }, r.call(this, e, i), i.prevented)) return void (t.prevented = !0); r.call(this, n, t) }, u.prototype.toggleDropdown = function () { this.options.get("disabled") || (this.isOpen() ? this.close() : this.open()) }, u.prototype.open = function () { this.isOpen() || this.trigger("query", {}) }, u.prototype.close = function () { this.isOpen() && this.trigger("close", {}) }, u.prototype.isOpen = function () { return this.$container.hasClass("select2-container--open") }, u.prototype.hasFocus = function () { return this.$container.hasClass("select2-container--focus") }, u.prototype.focus = function () { this.hasFocus() || (this.$container.addClass("select2-container--focus"), this.trigger("focus", {})) }, u.prototype.enable = function (n) { this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'); null != n && 0 !== n.length || (n = [!0]); var t = !n[0]; this.$element.prop("disabled", t) }, u.prototype.data = function () { this.options.get("debug") && arguments.length > 0 && window.console && console.warn && console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.'); var n = []; return this.dataAdapter.current(function (t) { n = t }), n }, u.prototype.val = function (t) { if (this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'), null == t || 0 === t.length) return this.$element.val(); var i = t[0]; n.isArray(i) && (i = n.map(i, function (n) { return n.toString() })); this.$element.val(i).trigger("change") }, u.prototype.destroy = function () { this.$container.remove(); this.$element[0].detachEvent && this.$element[0].detachEvent("onpropertychange", this._syncA); null != this._observer ? (this._observer.disconnect(), this._observer = null) : this.$element[0].removeEventListener && (this.$element[0].removeEventListener("DOMAttrModified", this._syncA, !1), this.$element[0].removeEventListener("DOMNodeInserted", this._syncS, !1), this.$element[0].removeEventListener("DOMNodeRemoved", this._syncS, !1)); this._syncA = null; this._syncS = null; this.$element.off(".select2"); this.$element.attr("tabindex", i.GetData(this.$element[0], "old-tabindex")); this.$element.removeClass("select2-hidden-accessible"); this.$element.attr("aria-hidden", "false"); i.RemoveData(this.$element[0]); this.$element.removeData("select2"); this.dataAdapter.destroy(); this.selection.destroy(); this.dropdown.destroy(); this.results.destroy(); this.dataAdapter = null; this.selection = null; this.dropdown = null; this.results = null }, u.prototype.render = function () { var t = n('<span class="select2 select2-container"><span class="selection"><\/span><span class="dropdown-wrapper" aria-hidden="true"><\/span><\/span>'); return t.attr("dir", this.options.get("dir")), this.$container = t, this.$container.addClass("select2-container--" + this.options.get("theme")), i.StoreData(t[0], "element", this.$element), t }, u }), t.define("jquery-mousewheel", ["jquery"], function (n) { return n }), t.define("jquery.select2", ["jquery", "jquery-mousewheel", "./select2/core", "./select2/defaults", "./select2/utils"], function (n, t, i, r, u) { if (null == n.fn.select2) { var f = ["open", "close", "destroy"]; n.fn.select2 = function (t) { if ("object" == typeof (t = t || {})) return this.each(function () { var r = n.extend(!0, {}, t); new i(n(this), r) }), this; if ("string" == typeof t) { var r, e = Array.prototype.slice.call(arguments, 1); return this.each(function () { var n = u.GetData(this, "select2"); null == n && window.console && console.error && console.error("The select2('" + t + "') method was called on an element that is not using Select2."); r = n[t].apply(n, e) }), n.inArray(t, f) > -1 ? this : r } throw new Error("Invalid arguments for Select2: " + t); } } return null == n.fn.select2.defaults && (n.fn.select2.defaults = r), i }), { define: t.define, require: t.require } }(), i = t.require("jquery.select2"); return n.fn.select2.amd = t, i }), function () { "use strict"; function n(n) { function s(s, h) { var rt, ut, p = s == window, l = h && h.message !== undefined ? h.message : undefined, g, k, d, tt, nt, w, b, it, ft, et, at; if (h = n.extend({}, n.blockUI.defaults, h || {}), !h.ignoreIfBlocked || !n(s).data("blockUI.isBlocked")) { if (h.overlayCSS = n.extend({}, n.blockUI.defaults.overlayCSS, h.overlayCSS || {}), rt = n.extend({}, n.blockUI.defaults.css, h.css || {}), h.onOverlayClick && (h.overlayCSS.cursor = "pointer"), ut = n.extend({}, n.blockUI.defaults.themedCSS, h.themedCSS || {}), l = l === undefined ? h.message : l, p && t && e(window, { fadeOut: 0 }), l && typeof l != "string" && (l.parentNode || l.jquery) && (g = l.jquery ? l[0] : l, k = {}, n(s).data("blockUI.history", k), k.el = g, k.parent = g.parentNode, k.display = g.style.display, k.position = g.style.position, k.parent && k.parent.removeChild(g)), n(s).data("blockUI.onUnblock", h.onUnblock), d = h.baseZ, tt = f || h.forceIframe ? n('<iframe class="blockUI" style="z-index:' + d++ + ';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="' + h.iframeSrc + '"><\/iframe>') : n('<div class="blockUI" style="display:none"><\/div>'), nt = h.theme ? n('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:' + d++ + ';display:none"><\/div>') : n('<div class="blockUI blockOverlay" style="z-index:' + d++ + ';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>'), h.theme && p ? (b = '<div class="blockUI ' + h.blockMsgClass + ' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:' + (d + 10) + ';display:none;position:fixed">', h.title && (b += '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">' + (h.title || "&nbsp;") + "<\/div>"), b += '<div class="ui-widget-content ui-dialog-content"><\/div>', b += "<\/div>") : h.theme ? (b = '<div class="blockUI ' + h.blockMsgClass + ' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:' + (d + 10) + ';display:none;position:absolute">', h.title && (b += '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">' + (h.title || "&nbsp;") + "<\/div>"), b += '<div class="ui-widget-content ui-dialog-content"><\/div>', b += "<\/div>") : b = p ? '<div class="blockUI ' + h.blockMsgClass + ' blockPage" style="z-index:' + (d + 10) + ';display:none;position:fixed"><\/div>' : '<div class="blockUI ' + h.blockMsgClass + ' blockElement" style="z-index:' + (d + 10) + ';display:none;position:absolute"><\/div>', w = n(b), l && (h.theme ? (w.css(ut), w.addClass("ui-widget-content")) : w.css(rt)), h.theme || nt.css(h.overlayCSS), nt.css("position", p ? "fixed" : "absolute"), (f || h.forceIframe) && tt.css("opacity", 0), it = [tt, nt, w], ft = p ? n("body") : n(s), n.each(it, function () { this.appendTo(ft) }), h.theme && h.draggable && n.fn.draggable && w.draggable({ handle: ".ui-dialog-titlebar", cancel: "li" }), et = v && (!n.support.boxModel || n("object,embed", p ? null : s).length > 0), o || et) { if (p && h.allowBodyStretch && n.support.boxModel && n("html,body").css("height", "100%"), (o || !n.support.boxModel) && !p) var ot = r(s, "borderTopWidth"), st = r(s, "borderLeftWidth"), ht = ot ? "(0 - " + ot + ")" : 0, ct = st ? "(0 - " + st + ")" : 0; n.each(it, function (n, t) { var i = t[0].style, r, u; i.position = "absolute"; n < 2 ? (p ? i.setExpression("height", "Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:" + h.quirksmodeOffsetHack + ') + "px"') : i.setExpression("height", 'this.parentNode.offsetHeight + "px"'), p ? i.setExpression("width", 'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"') : i.setExpression("width", 'this.parentNode.offsetWidth + "px"'), ct && i.setExpression("left", ct), ht && i.setExpression("top", ht)) : h.centerY ? (p && i.setExpression("top", '(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'), i.marginTop = 0) : !h.centerY && p && (r = h.css && h.css.top ? parseInt(h.css.top, 10) : 0, u = "((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + " + r + ') + "px"', i.setExpression("top", u)) }) } if (l && (h.theme ? w.find(".ui-widget-content").append(l) : w.append(l), (l.jquery || l.nodeType) && n(l).show()), (f || h.forceIframe) && h.showOverlay && tt.show(), h.fadeIn) { var lt = h.onBlock ? h.onBlock : u, vt = h.showOverlay && !l ? lt : u, yt = l ? lt : u; h.showOverlay && nt._fadeIn(h.fadeIn, vt); l && w._fadeIn(h.fadeIn, yt) } else h.showOverlay && nt.show(), l && w.show(), h.onBlock && h.onBlock.bind(w)(); c(1, s, h); p ? (t = w[0], i = n(h.focusableElements, t), h.focusInput && setTimeout(a, 20)) : y(w[0], h.centerX, h.centerY); h.timeout && (at = setTimeout(function () { p ? n.unblockUI(h) : n(s).unblock(h) }, h.timeout), n(s).data("blockUI.timeout", at)) } } function e(r, u) { var o, s = r == window, e = n(r), l = e.data("blockUI.history"), a = e.data("blockUI.timeout"), f; a && (clearTimeout(a), e.removeData("blockUI.timeout")); u = n.extend({}, n.blockUI.defaults, u || {}); c(0, r, u); u.onUnblock === null && (u.onUnblock = e.data("blockUI.onUnblock"), e.removeData("blockUI.onUnblock")); f = s ? n("body").children().filter(".blockUI").add("body > .blockUI") : e.find(">.blockUI"); u.cursorReset && (f.length > 1 && (f[1].style.cursor = u.cursorReset), f.length > 2 && (f[2].style.cursor = u.cursorReset)); s && (t = i = null); u.fadeOut ? (o = f.length, f.stop().fadeOut(u.fadeOut, function () { --o == 0 && h(f, l, u, r) })) : h(f, l, u, r) } function h(t, i, r, u) { var f = n(u); if (!f.data("blockUI.isBlocked")) { if (t.each(function () { this.parentNode && this.parentNode.removeChild(this) }), i && i.el && (i.el.style.display = i.display, i.el.style.position = i.position, i.el.style.cursor = "default", i.parent && i.parent.appendChild(i.el), f.removeData("blockUI.history")), f.data("blockUI.static") && f.css("position", "static"), typeof r.onUnblock == "function") r.onUnblock(u, r); var e = n(document.body), o = e.width(), s = e[0].style.width; e.width(o - 1).width(o); e[0].style.width = s } } function c(i, r, u) { var f = r == window, o = n(r), e; (i || (!f || t) && (f || o.data("blockUI.isBlocked"))) && (o.data("blockUI.isBlocked", i), f && u.bindEvents && (!i || u.showOverlay)) && (e = "mousedown mouseup keydown keypress keyup touchstart touchend touchmove", i ? n(document).bind(e, u, l) : n(document).unbind(e, l)) } function l(r) { var u, f; if (r.type === "keydown" && r.keyCode && r.keyCode == 9 && t && r.data.constrainTabKey) { var e = i, s = !r.shiftKey && r.target === e[e.length - 1], o = r.shiftKey && r.target === e[0]; if (s || o) return setTimeout(function () { a(o) }, 10), !1 } if (u = r.data, f = n(r.target), f.hasClass("blockOverlay") && u.onOverlayClick) u.onOverlayClick(r); return f.parents("div." + u.blockMsgClass).length > 0 ? !0 : f.parents().children().filter("div.blockUI").length === 0 } function a(n) { if (i) { var t = i[n === !0 ? i.length - 1 : 0]; t && t.focus() } } function y(n, t, i) { var u = n.parentNode, f = n.style, e = (u.offsetWidth - n.offsetWidth) / 2 - r(u, "borderLeftWidth"), o = (u.offsetHeight - n.offsetHeight) / 2 - r(u, "borderTopWidth"); t && (f.left = e > 0 ? e + "px" : "0"); i && (f.top = o > 0 ? o + "px" : "0") } function r(t, i) { return parseInt(n.css(t, i), 10) || 0 } var t, i; n.fn._fadeIn = n.fn.fadeIn; var u = n.noop || function () { }, f = /MSIE/.test(navigator.userAgent), o = /MSIE 6.0/.test(navigator.userAgent) && !/MSIE 8.0/.test(navigator.userAgent), p = document.documentMode || 0, v = n.isFunction(document.createElement("div").style.setExpression); n.blockUI = function (n) { s(window, n) }; n.unblockUI = function (n) { e(window, n) }; n.growlUI = function (t, i, r, u) { var f = n('<div class="growlUI"><\/div>'), e, o; t && f.append("<h1>" + t + "<\/h1>"); i && f.append("<h2>" + i + "<\/h2>"); r === undefined && (r = 3e3); e = function (t) { t = t || {}; n.blockUI({ message: f, fadeIn: typeof t.fadeIn != "undefined" ? t.fadeIn : 700, fadeOut: typeof t.fadeOut != "undefined" ? t.fadeOut : 1e3, timeout: typeof t.timeout != "undefined" ? t.timeout : r, centerY: !1, showOverlay: !1, onUnblock: u, css: n.blockUI.defaults.growlCSS }) }; e(); o = f.css("opacity"); f.mouseover(function () { e({ fadeIn: 0, timeout: 3e4 }); var t = n(".blockMsg"); t.stop(); t.fadeTo(300, 1) }).mouseout(function () { n(".blockMsg").fadeOut(1e3) }) }; n.fn.block = function (t) { if (this[0] === window) return n.blockUI(t), this; var i = n.extend({}, n.blockUI.defaults, t || {}); return this.each(function () { var t = n(this); i.ignoreIfBlocked && t.data("blockUI.isBlocked") || t.unblock({ fadeOut: 0 }) }), this.each(function () { n.css(this, "position") == "static" && (this.style.position = "relative", n(this).data("blockUI.static", !0)); this.style.zoom = 1; s(this, t) }) }; n.fn.unblock = function (t) { return this[0] === window ? (n.unblockUI(t), this) : this.each(function () { e(this, t) }) }; n.blockUI.version = 2.7; n.blockUI.defaults = { message: "<h1>Please wait...<\/h1>", title: null, draggable: !0, theme: !1, css: { padding: 0, margin: 0, width: "30%", top: "40%", left: "35%", textAlign: "center", cursor: "wait" }, themedCSS: { width: "30%", top: "40%", left: "35%" }, overlayCSS: { backgroundColor: "#000", opacity: .6, cursor: "wait" }, cursorReset: "default", growlCSS: { width: "350px", top: "10px", left: "", right: "10px", border: "none", padding: "5px", opacity: .6, cursor: "default", color: "#fff", backgroundColor: "#000", "-webkit-border-radius": "10px", "-moz-border-radius": "10px", "border-radius": "10px" }, iframeSrc: /^https/i.test(window.location.href || "") ? "javascript:false" : "about:blank", forceIframe: !1, baseZ: 1e3, centerX: !0, centerY: !0, allowBodyStretch: !0, bindEvents: !0, constrainTabKey: !0, fadeIn: 200, fadeOut: 400, timeout: 0, showOverlay: !0, focusInput: !0, focusableElements: ":input:enabled:visible", onBlock: null, onUnblock: null, onOverlayClick: null, quirksmodeOffsetHack: 4, blockMsgClass: "blockMsg", ignoreIfBlocked: !1 }; t = null; i = [] } typeof define == "function" && define.amd && define.amd.jQuery ? define(["jquery"], n) : n(jQuery) }(); !function (n) { "function" == typeof define && define.amd ? define(["jquery"], n) : n(jQuery) }(function (n, t) { "use strict"; function c(n, t) { this.container = n; this.options = t; this.init() } function l(t, i) { this.widget = t; this.options = n.extend({}, i); this.detectService(); this.service && this.init() } function v(n) { var r = {}, u = n.data(), i, t; for (i in u) t = u[i], "yes" === t ? t = !0 : "no" === t && (t = !1), r[i.replace(/-(\w)/g, function (n, t) { return t.toUpper() })] = t; return r } function u(n, t) { return a(n, t, encodeURIComponent) } function a(n, t, i) { return n.replace(/\{([^}]+)\}/g, function (n, r) { return r in t ? i ? i(t[r]) : t[r] : n }) } function f(n, t) { var i = o + n; return i + " " + i + "_" + t } function y(t, i) { function r(e) { "keydown" === e.type && 27 !== e.which || n(e.target).closest(t).length || (t.removeClass(s), u.off(f, r), n.isFunction(i) && i()) } var u = n(document), f = "click touchstart keydown"; u.on(f, r) } function p(n) { if (document.documentElement.getBoundingClientRect) { var i = parseInt(n.css("left"), 10), r = parseInt(n.css("top"), 10), t = n[0].getBoundingClientRect(); t.left < 10 ? n.css("left", 10 - t.left + i) : t.right > window.innerWidth - 10 && n.css("left", window.innerWidth - t.right - 10 + i); t.top < 10 ? n.css("top", 10 - t.top + r) : t.bottom > window.innerHeight - 10 && n.css("top", window.innerHeight - t.bottom - 10 + r) } n.addClass(s) } var i = "social-likes", o = i + "__", s = i + "_opened", h = "https:" === location.protocol ? "https:" : "http:", r = { facebook: { counterUrl: "https://graph.facebook.com/?id={url}", convertNumber: function (n) { return n.share.share_count }, popupUrl: "https://www.facebook.com/sharer/sharer.php?u={url}", popupWidth: 600, popupHeight: 359 }, twitter: { counters: !1, popupUrl: "https://twitter.com/intent/tweet?url={url}&text={title}", popupWidth: 600, popupHeight: 250, click: function () { return /[.?:\-–—]\s*$/.test(this.options.title) || (this.options.title += ":"), !0 } }, mailru: { counterUrl: h + "//connect.mail.ru/share_count?url_list={url}&callback=1&func=?", convertNumber: function (n) { for (var t in n) if (n.hasOwnProperty(t)) return n[t].shares }, popupUrl: "https://connect.mail.ru/share?share_url={url}&title={title}", popupWidth: 492, popupHeight: 500 }, vkontakte: { counterUrl: "https://vk.com/share.php?act=count&url={url}&index={index}", counter: function (t, i) { var f = r.vkontakte, e; f._ || (f._ = [], window.VK || (window.VK = {}), window.VK.Share = { count: function (n, t) { f._[n].resolve(t) } }); e = f._.length; f._.push(i); n.getScript(u(t, { index: e })).fail(i.reject) }, popupUrl: "https://vk.com/share.php?url={url}&title={title}", popupWidth: 655, popupHeight: 450 }, odnoklassniki: { counterUrl: h + "//connect.ok.ru/dk?st.cmd=extLike&ref={url}&uid={index}", counter: function (t, i) { var f = r.odnoklassniki, e; f._ || (f._ = [], window.ODKL || (window.ODKL = {}), window.ODKL.updateCount = function (n, t) { f._[n].resolve(t) }); e = f._.length; f._.push(i); n.getScript(u(t, { index: e })).fail(i.reject) }, popupUrl: "https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&service=odnoklassniki&st.shareUrl={url}", popupWidth: 580, popupHeight: 336 }, plusone: { counters: !1, popupUrl: "https://plus.google.com/share?url={url}", popupWidth: 500, popupHeight: 550 }, pinterest: { counterUrl: h + "//api.pinterest.com/v1/urls/count.json?url={url}&callback=?", convertNumber: function (n) { return n.count }, popupUrl: "https://pinterest.com/pin/create/button/?url={url}&description={title}", popupWidth: 740, popupHeight: 550 } }, e = { promises: {}, fetch: function (t, i, f) { var h; if (e.promises[t] || (e.promises[t] = {}), h = e.promises[t], !f.forceUpdate && h[i]) return h[i]; var o = n.extend({}, r[t], f), s = n.Deferred(), c = o.counterUrl && u(o.counterUrl, { url: i }); return c && n.isFunction(o.counter) ? o.counter(c, s) : o.counterUrl ? n.getJSON(c).done(function (t) { try { var i = t; n.isFunction(o.convertNumber) && (i = o.convertNumber(t)); s.resolve(i) } catch (n) { s.reject() } }).fail(s.reject) : s.reject(), h[i] = s.promise(), h[i] } }; n.fn.socialLikes = function (t) { return this.each(function () { var r = n(this), u = r.data(i); u ? n.isPlainObject(t) && u.update(t) : (u = new c(r, n.extend({}, n.fn.socialLikes.defaults, t, v(r))), r.data(i, u)) }) }; n.fn.socialLikes.defaults = { url: window.location.href.replace(window.location.hash, ""), title: document.title, counters: !0, zeroes: !1, wait: 500, timeout: 1e4, popupCheckInterval: 500, singleTitle: "Share" }; c.prototype = { init: function () { this.container.addClass(i); this.single = this.container.hasClass(i + "_single"); this.initUserButtons(); this.countersLeft = 0; this.number = 0; this.container.on("counter." + i, n.proxy(this.updateCounter, this)); var t = this.container.children(); this.makeSingleButton(); this.buttons = []; t.each(n.proxy(function (t, i) { var r = new l(n(i), this.options); this.buttons.push(r); r.options.counterUrl && this.countersLeft++ }, this)); this.options.counters ? (this.timer = setTimeout(n.proxy(this.appear, this), this.options.wait), this.timeout = setTimeout(n.proxy(this.ready, this, !0), this.options.timeout)) : this.appear() }, initUserButtons: function () { !this.userButtonInited && window.socialLikesButtons && n.extend(!0, r, socialLikesButtons); this.userButtonInited = !0 }, makeSingleButton: function () { var t; if (this.single) { t = this.container; t.addClass(i + "_vertical"); t.wrap(n("<div>", { "class": i + "_single-w" })); t.wrapInner(n("<div>", { "class": i + "__single-container" })); var u = t.parent(), r = n("<div>", { "class": f("widget", "single") }), e = n(a('<div class="{buttonCls}"><span class="{iconCls}"><\/span>{title}<\/div>', { buttonCls: f("button", "single"), iconCls: f("icon", "single"), title: this.options.singleTitle })); r.append(e); u.append(r); r.on("click", function () { var n = i + "__widget_active"; return r.toggleClass(n), r.hasClass(n) ? (t.css({ left: -(t.width() - r.width()) / 2, top: -t.height() }), p(t), y(t, function () { r.removeClass(n) })) : t.removeClass(s), !1 }); this.widget = r } }, update: function (t) { if (t.forceUpdate || t.url !== this.options.url) { this.number = 0; this.countersLeft = this.buttons.length; this.widget && this.widget.find("." + i + "__counter").remove(); n.extend(this.options, t); for (var r = 0; r < this.buttons.length; r++) this.buttons[r].update(t) } }, updateCounter: function (n, t, i) { ((i = i || 0) || this.options.zeroes) && (this.number += i, this.single && this.getCounterElem().text(this.number)); 0 == --this.countersLeft && (this.appear(), this.ready()) }, appear: function () { this.container.addClass(i + "_visible") }, ready: function (n) { this.timeout && clearTimeout(this.timeout); this.container.addClass(i + "_ready"); n || this.container.trigger("ready." + i, this.number) }, getCounterElem: function () { var t = this.widget.find("." + o + "counter_single"); return t.length || (t = n("<span>", { "class": f("counter", "single") }), this.widget.append(t)), t } }; l.prototype = { init: function () { this.detectParams(); this.initHtml(); setTimeout(n.proxy(this.initCounter, this), 0) }, update: function (t) { n.extend(this.options, { forceUpdate: !1 }, t); this.widget.find("." + i + "__counter").remove(); this.initCounter() }, detectService: function () { var t = this.widget.data("service"), u; if (!t) { for (var f = this.widget[0], e = f.classList || f.className.split(" "), i = 0; i < e.length; i++) if (u = e[i], r[u]) { t = u; break } if (!t) return } this.service = t; n.extend(this.options, r[t]) }, detectParams: function () { var n = this.widget.data(), t; n.counter && (t = parseInt(n.counter, 10), isNaN(t) ? this.options.counterUrl = n.counter : this.options.counterNumber = t); n.title && (this.options.title = n.title); n.url && (this.options.url = n.url) }, initHtml: function () { var r = this.options, t = this.widget, e = t.find("a"), f, o, i; if (e.length && this.cloneDataAttrs(e, t), f = n("<span>", { "class": this.getElementClassNames("button"), html: t.html() }), r.clickUrl) o = u(r.clickUrl, { url: r.url, title: r.title }), i = n("<a>", { href: o }), this.cloneDataAttrs(t, i), t.replaceWith(i), this.widget = i, t = i; else t.on("click", n.proxy(this.click, this)); t.removeClass(this.service); t.addClass(this.getElementClassNames("widget")); f.prepend(n("<span>", { "class": this.getElementClassNames("icon") })); t.empty().append(f); this.button = f }, initCounter: function () { if (this.options.counters) if (this.options.counterNumber) this.updateCounter(this.options.counterNumber); else { var t = { counterUrl: this.options.counterUrl, forceUpdate: this.options.forceUpdate }; e.fetch(this.service, this.options.url, t).always(n.proxy(this.updateCounter, this)) } }, cloneDataAttrs: function (n, t) { var r = n.data(), i; for (i in r) r.hasOwnProperty(i) && t.data(i, r[i]) }, getElementClassNames: function (n) { return f(n, this.service) }, updateCounter: function (t) { var r, u; t = parseInt(t, 10) || 0; r = { "class": this.getElementClassNames("counter"), text: t }; t || this.options.zeroes || (r.class += " " + i + "__counter_empty", r.text = ""); u = this.widget.find("." + o + "counter_" + this.service); u.length || (u = n("<span>", r), this.widget.append(u)); this.widget.trigger("counter." + i, [this.service, t]) }, click: function (t) { var i = this.options, f = !0, r; return (n.isFunction(i.click) && (f = i.click.call(this, t)), f) && (r = u(i.popupUrl, { url: i.url, title: i.title }), r = this.addAdditionalParamsToUrl(r), this.openPopup(r, { width: i.popupWidth, height: i.popupHeight })), !1 }, addAdditionalParamsToUrl: function (t) { var i = n.param(n.extend(this.widget.data(), this.options.data)); return n.isEmptyObject(i) ? t : t + (-1 === t.indexOf("?") ? "?" : "&") + i }, openPopup: function (r, u) { var h = window.screenLeft !== t ? window.screenLeft : screen.left, c = window.screenTop !== t ? window.screenTop : screen.top, l = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width, e = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height, a = Math.round(l / 2 - u.width / 2) + h, o = 0, f, s; e > u.height && (o = Math.round(e / 3 - u.height / 2) + c); f = window.open(r, "sl_" + this.service, "left=" + a + ",top=" + o + ",width=" + u.width + ",height=" + u.height + ",personalbar=0,toolbar=0,scrollbars=1,resizable=1"); f ? (f.focus(), this.widget.trigger("popup_opened." + i, [this.service, f]), s = setInterval(n.proxy(function () { f.closed && (clearInterval(s), this.widget.trigger("popup_closed." + i, this.service)) }, this), this.options.popupCheckInterval)) : location.href = r } }; n(function () { n("." + i).socialLikes() }) }); "function" != typeof Object.create && (Object.create = function (n) { function t() { } return t.prototype = n, new t }), function (n) { var t = { init: function (t, i) { var r = this; r.elem = i; r.$elem = n(i); r.imageSrc = r.$elem.data("zoom-image") ? r.$elem.data("zoom-image") : r.$elem.attr("src"); r.options = n.extend({}, n.fn.elevateZoom.options, t); r.options.tint && (r.options.lensColour = "none", r.options.lensOpacity = "1"); "inner" == r.options.zoomType && (r.options.showLens = !1); r.$elem.parent().removeAttr("title").removeAttr("alt"); r.zoomImage = r.imageSrc; r.refresh(1); n("#" + r.options.gallery + " a").click(function (t) { return r.options.galleryActiveClass && (n("#" + r.options.gallery + " a").removeClass(r.options.galleryActiveClass), n(this).addClass(r.options.galleryActiveClass)), t.preventDefault(), r.zoomImagePre = n(this).data("zoom-image") ? n(this).data("zoom-image") : n(this).data("image"), r.swaptheimage(n(this).data("image"), r.zoomImagePre), !1 }) }, refresh: function (n) { var t = this; setTimeout(function () { t.fetch(t.imageSrc) }, n || t.options.refresh) }, fetch: function (n) { var t = this, i = new Image; i.onload = function () { t.largeWidth = i.width; t.largeHeight = i.height; t.startZoom(); t.currentImage = t.imageSrc; t.options.onZoomedImageLoaded(t.$elem) }; i.src = n }, startZoom: function () { var t = this; t.nzWidth = t.$elem.width(); t.nzHeight = t.$elem.height(); t.nzOffset = t.$elem.offset(); t.widthRatio = t.largeWidth / t.options.zoomLevel / t.nzWidth; t.heightRatio = t.largeHeight / t.options.zoomLevel / t.nzHeight; "window" == t.options.zoomType && (t.zoomWindowStyle = "overflow: hidden;background-position: 0px 0px;text-align:center;background-color: " + String(t.options.zoomWindowBgColour) + ";width: " + String(t.options.zoomWindowWidth) + "px;height: " + String(t.options.zoomWindowHeight) + "px;float: left;background-size: " + t.largeWidth / t.options.zoomLevel + "px " + t.largeHeight / t.options.zoomLevel + "px;display: none;z-index:100px;border: " + String(t.options.borderSize) + "px solid " + t.options.borderColour + ";background-repeat: no-repeat;position: absolute;"); "inner" == t.options.zoomType && (t.zoomWindowStyle = "overflow: hidden;background-position: 0px 0px;width: " + String(t.nzWidth) + "px;height: " + String(t.nzHeight) + "px;float: left;display: none;cursor:" + t.options.cursor + ";px solid " + t.options.borderColour + ";background-repeat: no-repeat;position: absolute;"); "window" == t.options.zoomType && (lensHeight = t.nzHeight < t.options.zoomWindowWidth / t.widthRatio ? t.nzHeight : String(t.options.zoomWindowHeight / t.heightRatio), lensWidth = t.largeWidth < t.options.zoomWindowWidth ? t.nzWidth : t.options.zoomWindowWidth / t.widthRatio, t.lensStyle = "background-position: 0px 0px;width: " + String(t.options.zoomWindowWidth / t.widthRatio) + "px;height: " + String(t.options.zoomWindowHeight / t.heightRatio) + "px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:" + t.options.lensOpacity + ";filter: alpha(opacity = " + 100 * t.options.lensOpacity + "); zoom:1;width:" + lensWidth + "px;height:" + lensHeight + "px;cursor:" + t.options.cursor + ";background-repeat: no-repeat;position: absolute;"); t.tintStyle = "display: block;position: absolute;background-color: " + t.options.tintColour + ";filter:alpha(opacity=0);opacity: 0;width: " + t.nzWidth + "px;height: " + t.nzHeight + "px;"; t.lensRound = ""; "lens" == t.options.zoomType && (t.lensStyle = "background-position: 0px 0px;float: left;display: none;border: " + String(t.options.borderSize) + "px solid " + t.options.borderColour + ";width:" + String(t.options.lensSize) + "px;height:" + String(t.options.lensSize) + "px;background-repeat: no-repeat;position: absolute;"); "round" == t.options.lensShape && (t.lensRound = "border-top-left-radius: " + String(t.options.lensSize / 2 + t.options.borderSize) + "px;border-top-right-radius: " + String(t.options.lensSize / 2 + t.options.borderSize) + "px;border-bottom-left-radius: " + String(t.options.lensSize / 2 + t.options.borderSize) + "px;border-bottom-right-radius: " + String(t.options.lensSize / 2 + t.options.borderSize) + "px;"); t.zoomContainer = n('<div class="zoomContainer" style="display:none; -webkit-transform: translateZ(0);position:absolute;left:' + t.nzOffset.left + "px;top:" + t.nzOffset.top + "px;height:" + t.nzHeight + "px;width:" + t.nzWidth + 'px;"><\/div>'); n("body").append(t.zoomContainer); t.options.containLensZoom && "lens" == t.options.zoomType && t.zoomContainer.css("overflow", "hidden"); "inner" != t.options.zoomType && (t.zoomLens = n("<div class='zoomLens' style='" + t.lensStyle + t.lensRound + "'>&nbsp;<\/div>").appendTo(t.zoomContainer).click(function () { t.$elem.trigger("click") })); t.options.tint && (t.tintContainer = n("<div/>").addClass("tintContainer"), t.zoomTint = n("<div class='zoomTint' style='" + t.tintStyle + "'><\/div>"), t.zoomLens.wrap(t.tintContainer), t.zoomTintcss = t.zoomLens.after(t.zoomTint), t.zoomTintImage = n('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: ' + t.nzWidth + "px; height: " + t.nzHeight + 'px;" src="' + t.imageSrc + '">').appendTo(t.zoomLens).click(function () { t.$elem.trigger("click") })); t.zoomWindow = isNaN(t.options.zoomWindowPosition) ? n("<div style='z-index:999;left:" + t.windowOffsetLeft + "px;top:" + t.windowOffsetTop + "px;" + t.zoomWindowStyle + "' class='zoomWindow'>&nbsp;<\/div>").appendTo("body").click(function () { t.$elem.trigger("click") }) : n("<div style='z-index:999;left:" + t.windowOffsetLeft + "px;top:" + t.windowOffsetTop + "px;" + t.zoomWindowStyle + "' class='zoomWindow'>&nbsp;<\/div>").appendTo(t.zoomContainer).click(function () { t.$elem.trigger("click") }); t.zoomWindowContainer = n("<div/>").addClass("zoomWindowContainer").css("width", t.options.zoomWindowWidth); t.zoomWindow.wrap(t.zoomWindowContainer); "lens" == t.options.zoomType && t.zoomLens.css({ backgroundImage: "url('" + t.imageSrc + "')" }); "window" == t.options.zoomType && t.zoomWindow.css({ backgroundImage: "url('" + t.imageSrc + "')" }); "inner" == t.options.zoomType && t.zoomWindow.css({ backgroundImage: "url('" + t.imageSrc + "')" }); t.$elem.bind("touchmove", function (n) { n.preventDefault(); t.setPosition(n.originalEvent.touches[0] || n.originalEvent.changedTouches[0]) }); t.zoomContainer.bind("touchmove", function (n) { "inner" == t.options.zoomType && (t.options.zoomWindowFadeIn ? t.zoomWindow.stop(!0, !0).fadeIn(t.options.zoomWindowFadeIn) : t.zoomWindow.show()); n.preventDefault(); t.setPosition(n.originalEvent.touches[0] || n.originalEvent.changedTouches[0]) }); t.zoomContainer.bind("touchend", function () { t.zoomWindow.hide(); t.options.showLens && t.zoomLens.hide(); t.options.tint && t.zoomTint.hide() }); t.$elem.bind("touchend", function () { t.zoomWindow.hide(); t.options.showLens && t.zoomLens.hide(); t.options.tint && t.zoomTint.hide() }); t.options.showLens && (t.zoomLens.bind("touchmove", function (n) { n.preventDefault(); t.setPosition(n.originalEvent.touches[0] || n.originalEvent.changedTouches[0]) }), t.zoomLens.bind("touchend", function () { t.zoomWindow.hide(); t.options.showLens && t.zoomLens.hide(); t.options.tint && t.zoomTint.hide() })); t.$elem.bind("mousemove", function (n) { (t.lastX !== n.clientX || t.lastY !== n.clientY) && t.setPosition(n); t.lastX = n.clientX; t.lastY = n.clientY }); t.zoomContainer.bind("mousemove", function (n) { (t.lastX !== n.clientX || t.lastY !== n.clientY) && t.setPosition(n); t.lastX = n.clientX; t.lastY = n.clientY }); "inner" != t.options.zoomType && t.zoomLens.bind("mousemove", function (n) { (t.lastX !== n.clientX || t.lastY !== n.clientY) && t.setPosition(n); t.lastX = n.clientX; t.lastY = n.clientY }); t.options.tint && t.zoomTint.bind("mousemove", function (n) { (t.lastX !== n.clientX || t.lastY !== n.clientY) && t.setPosition(n); t.lastX = n.clientX; t.lastY = n.clientY }); "inner" == t.options.zoomType && t.zoomWindow.bind("mousemove", function (n) { (t.lastX !== n.clientX || t.lastY !== n.clientY) && t.setPosition(n); t.lastX = n.clientX; t.lastY = n.clientY }); t.zoomContainer.mouseenter(function () { "inner" == t.options.zoomType && (t.options.zoomWindowFadeIn ? t.zoomWindow.stop(!0, !0).fadeIn(t.options.zoomWindowFadeIn) : t.zoomWindow.show()); "window" == t.options.zoomType && (t.options.zoomWindowFadeIn ? t.zoomWindow.stop(!0, !0).fadeIn(t.options.zoomWindowFadeIn) : t.zoomWindow.show()); t.options.showLens && (t.options.lensFadeIn ? t.zoomLens.stop(!0, !0).fadeIn(t.options.lensFadeIn) : t.zoomLens.show()); t.options.tint && (t.options.zoomTintFadeIn ? t.zoomTint.stop(!0, !0).fadeIn(t.options.zoomTintFadeIn) : t.zoomTint.show()) }).mouseleave(function () { t.zoomWindow.hide(); t.options.showLens && t.zoomLens.hide(); t.options.tint && t.zoomTint.hide() }); t.$elem.mouseenter(function () { "inner" == t.options.zoomType && (t.options.zoomWindowFadeIn ? t.zoomWindow.stop(!0, !0).fadeIn(t.options.zoomWindowFadeIn) : t.zoomWindow.show()); "window" == t.options.zoomType && (t.options.zoomWindowFadeIn ? t.zoomWindow.stop(!0, !0).fadeIn(t.options.zoomWindowFadeIn) : t.zoomWindow.show()); t.options.showLens && (t.options.lensFadeIn ? t.zoomLens.stop(!0, !0).fadeIn(t.options.lensFadeIn) : t.zoomLens.show()); t.options.tint && (t.options.zoomTintFadeIn ? t.zoomTint.stop(!0, !0).fadeIn(t.options.zoomTintFadeIn) : t.zoomTint.show()) }).mouseleave(function () { t.zoomWindow.hide(); t.options.showLens && t.zoomLens.hide(); t.options.tint && t.zoomTint.hide() }); "inner" != t.options.zoomType && t.zoomLens.mouseenter(function () { "inner" == t.options.zoomType && (t.options.zoomWindowFadeIn ? t.zoomWindow.stop(!0, !0).fadeIn(t.options.zoomWindowFadeIn) : t.zoomWindow.show()); "window" == t.options.zoomType && t.zoomWindow.show(); t.options.showLens && t.zoomLens.show(); t.options.tint && t.zoomTint.show() }).mouseleave(function () { t.options.zoomWindowFadeOut ? t.zoomWindow.stop(!0, !0).fadeOut(t.options.zoomWindowFadeOut) : t.zoomWindow.hide(); "inner" != t.options.zoomType && t.zoomLens.hide(); t.options.tint && t.zoomTint.hide() }); t.options.tint && t.zoomTint.mouseenter(function () { "inner" == t.options.zoomType && t.zoomWindow.show(); "window" == t.options.zoomType && t.zoomWindow.show(); t.options.showLens && t.zoomLens.show(); t.zoomTint.show() }).mouseleave(function () { t.zoomWindow.hide(); "inner" != t.options.zoomType && t.zoomLens.hide(); t.zoomTint.hide() }); "inner" == t.options.zoomType && t.zoomWindow.mouseenter(function () { "inner" == t.options.zoomType && t.zoomWindow.show(); "window" == t.options.zoomType && t.zoomWindow.show(); t.options.showLens && t.zoomLens.show() }).mouseleave(function () { t.options.zoomWindowFadeOut ? t.zoomWindow.stop(!0, !0).fadeOut(t.options.zoomWindowFadeOut) : t.zoomWindow.hide(); "inner" != t.options.zoomType && t.zoomLens.hide() }) }, setPosition: function (n) { this.nzHeight = this.$elem.height(); this.nzWidth = this.$elem.width(); this.nzOffset = this.$elem.offset(); this.options.tint && (this.zoomTint.css({ top: 0 }), this.zoomTint.css({ left: 0 })); this.options.responsive && (lensHeight = this.nzHeight < this.options.zoomWindowWidth / this.widthRatio ? this.nzHeight : String(this.options.zoomWindowHeight / this.heightRatio), lensWidth = this.largeWidth < this.options.zoomWindowWidth ? this.nzHWidth : this.options.zoomWindowWidth / this.widthRatio, this.widthRatio = this.largeWidth / this.nzWidth, this.heightRatio = this.largeHeight / this.nzHeight, this.zoomLens.css({ width: String(this.options.zoomWindowWidth / this.widthRatio) + "px", height: String(this.options.zoomWindowHeight / this.heightRatio) + "px" })); this.zoomContainer.css({ top: this.nzOffset.top }); this.zoomContainer.css({ left: this.nzOffset.left }); this.mouseLeft = parseInt(n.pageX - this.nzOffset.left); this.mouseTop = parseInt(n.pageY - this.nzOffset.top); "window" == this.options.zoomType && (this.Etoppos = this.mouseTop < this.zoomLens.height() / 2, this.Eboppos = this.mouseTop > this.nzHeight - this.zoomLens.height() / 2 - 2 * this.options.lensBorderSize, this.Eloppos = this.mouseLeft < 0 + this.zoomLens.width() / 2, this.Eroppos = this.mouseLeft > this.nzWidth - this.zoomLens.width() / 2 - 2 * this.options.lensBorderSize); "inner" == this.options.zoomType && (this.Etoppos = this.mouseTop < this.nzHeight / 2 / this.heightRatio, this.Eboppos = this.mouseTop > this.nzHeight - this.nzHeight / 2 / this.heightRatio, this.Eloppos = this.mouseLeft < 0 + this.nzWidth / 2 / this.widthRatio, this.Eroppos = this.mouseLeft > this.nzWidth - this.nzWidth / 2 / this.widthRatio - 2 * this.options.lensBorderSize); 0 > this.mouseLeft || 0 >= this.mouseTop || this.mouseLeft > this.nzWidth || this.mouseTop > this.nzHeight ? (this.zoomWindow.hide(), this.options.showLens && this.zoomLens.hide(), this.options.tint && this.zoomTint.hide()) : ("window" == this.options.zoomType && this.zoomWindow.show(), this.options.tint && this.zoomTint.show(), this.options.showLens && (this.zoomLens.show(), this.lensLeftPos = String(this.mouseLeft - this.zoomLens.width() / 2), this.lensTopPos = String(this.mouseTop - this.zoomLens.height() / 2)), this.Etoppos && (this.lensTopPos = 0), this.Eloppos && (this.tintpos = this.lensLeftPos = this.windowLeftPos = 0), "window" == this.options.zoomType && (this.Eboppos && (this.lensTopPos = Math.max(this.nzHeight - this.zoomLens.height() - 2 * this.options.lensBorderSize, 0)), this.Eroppos && (this.lensLeftPos = this.nzWidth - this.zoomLens.width() - 2 * this.options.lensBorderSize)), "inner" == this.options.zoomType && (this.Eboppos && (this.lensTopPos = Math.max(this.nzHeight - 2 * this.options.lensBorderSize, 0)), this.Eroppos && (this.lensLeftPos = this.nzWidth - this.nzWidth - 2 * this.options.lensBorderSize)), "lens" == this.options.zoomType && (this.windowLeftPos = String(-1 * ((n.pageX - this.nzOffset.left) * this.widthRatio - this.zoomLens.width() / 2)), this.windowTopPos = String(-1 * ((n.pageY - this.nzOffset.top) * this.heightRatio - this.zoomLens.height() / 2)), this.zoomLens.css({ backgroundPosition: this.windowLeftPos + "px " + this.windowTopPos + "px" }), this.setWindowPostition(n)), this.options.tint && this.setTintPosition(n), "window" == this.options.zoomType && this.setWindowPostition(n), "inner" == this.options.zoomType && this.setWindowPostition(n), this.options.showLens && this.zoomLens.css({ left: this.lensLeftPos + "px", top: this.lensTopPos + "px" })) }, setLensPostition: function () { }, setWindowPostition: function (t) { var i = this; if (isNaN(i.options.zoomWindowPosition)) i.externalContainer = n("#" + i.options.zoomWindowPosition), i.externalContainerWidth = i.externalContainer.width(), i.externalContainerHeight = i.externalContainer.height(), i.externalContainerOffset = i.externalContainer.offset(), i.windowOffsetTop = i.externalContainerOffset.top, i.windowOffsetLeft = i.externalContainerOffset.left; else switch (i.options.zoomWindowPosition) { case 1: i.windowOffsetTop = i.options.zoomWindowOffety; i.windowOffsetLeft = +i.nzWidth; break; case 2: i.options.zoomWindowHeight > i.nzHeight && (i.windowOffsetTop = -1 * (i.options.zoomWindowHeight / 2 - i.nzHeight / 2), i.windowOffsetLeft = i.nzWidth); break; case 3: i.windowOffsetTop = i.nzHeight - i.zoomWindow.height() - 2 * i.options.borderSize; i.windowOffsetLeft = i.nzWidth; break; case 4: i.windowOffsetTop = i.nzHeight; i.windowOffsetLeft = i.nzWidth; break; case 5: i.windowOffsetTop = i.nzHeight; i.windowOffsetLeft = i.nzWidth - i.zoomWindow.width() - 2 * i.options.borderSize; break; case 6: i.options.zoomWindowHeight > i.nzHeight && (i.windowOffsetTop = i.nzHeight, i.windowOffsetLeft = -1 * (i.options.zoomWindowWidth / 2 - i.nzWidth / 2 + 2 * i.options.borderSize)); break; case 7: i.windowOffsetTop = i.nzHeight; i.windowOffsetLeft = 0; break; case 8: i.windowOffsetTop = i.nzHeight; i.windowOffsetLeft = -1 * (i.zoomWindow.width() + 2 * i.options.borderSize); break; case 9: i.windowOffsetTop = i.nzHeight - i.zoomWindow.height() - 2 * i.options.borderSize; i.windowOffsetLeft = -1 * (i.zoomWindow.width() + 2 * i.options.borderSize); break; case 10: i.options.zoomWindowHeight > i.nzHeight && (i.windowOffsetTop = -1 * (i.options.zoomWindowHeight / 2 - i.nzHeight / 2), i.windowOffsetLeft = -1 * (i.zoomWindow.width() + 2 * i.options.borderSize)); break; case 11: i.windowOffsetTop = i.options.zoomWindowOffety; i.windowOffsetLeft = -1 * (i.zoomWindow.width() + 2 * i.options.borderSize); break; case 12: i.windowOffsetTop = -1 * (i.zoomWindow.height() + 2 * i.options.borderSize); i.windowOffsetLeft = -1 * (i.zoomWindow.width() + 2 * i.options.borderSize); break; case 13: i.windowOffsetTop = -1 * (i.zoomWindow.height() + 2 * i.options.borderSize); i.windowOffsetLeft = 0; break; case 14: i.options.zoomWindowHeight > i.nzHeight && (i.windowOffsetTop = -1 * (i.zoomWindow.height() + 2 * i.options.borderSize), i.windowOffsetLeft = -1 * (i.options.zoomWindowWidth / 2 - i.nzWidth / 2 + 2 * i.options.borderSize)); break; case 15: i.windowOffsetTop = -1 * (i.zoomWindow.height() + 2 * i.options.borderSize); i.windowOffsetLeft = i.nzWidth - i.zoomWindow.width() - 2 * i.options.borderSize; break; case 16: i.windowOffsetTop = -1 * (i.zoomWindow.height() + 2 * i.options.borderSize); i.windowOffsetLeft = i.nzWidth; break; default: i.windowOffsetTop = i.options.zoomWindowOffety; i.windowOffsetLeft = i.nzWidth } i.windowOffsetTop += i.options.zoomWindowOffety; i.windowOffsetLeft += i.options.zoomWindowOffetx; i.zoomWindow.css({ top: i.windowOffsetTop }); i.zoomWindow.css({ left: i.windowOffsetLeft }); "inner" == i.options.zoomType && (i.zoomWindow.css({ top: 0 }), i.zoomWindow.css({ left: 0 })); i.windowLeftPos = String(-1 * ((t.pageX - i.nzOffset.left) * i.widthRatio - i.zoomWindow.width() / 2)); i.windowTopPos = String(-1 * ((t.pageY - i.nzOffset.top) * i.heightRatio - i.zoomWindow.height() / 2)); i.Etoppos && (i.windowTopPos = 0); i.Eloppos && (i.windowLeftPos = 0); i.Eboppos && (i.windowTopPos = -1 * (i.largeHeight / i.options.zoomLevel - i.zoomWindow.height())); i.Eroppos && (i.windowLeftPos = -1 * (i.largeWidth / i.options.zoomLevel - i.zoomWindow.width())); ("window" == i.options.zoomType || "inner" == i.options.zoomType) && (1 >= i.widthRatio && (i.windowLeftPos = 0), 1 >= i.heightRatio && (i.windowTopPos = 0), i.largeHeight < i.options.zoomWindowHeight && (i.windowTopPos = 0), i.largeWidth < i.options.zoomWindowWidth && (i.windowLeftPos = 0), i.options.easing ? (i.xp || (i.xp = 0), i.yp || (i.yp = 0), i.loop || (i.loop = setInterval(function () { i.xp += (i.windowLeftPos - i.xp) / i.options.easingAmount; i.yp += (i.windowTopPos - i.yp) / i.options.easingAmount; i.zoomWindow.css({ backgroundPosition: i.xp + "px " + i.yp + "px" }) }, 16))) : i.zoomWindow.css({ backgroundPosition: i.windowLeftPos + "px " + i.windowTopPos + "px" })) }, setTintPosition: function (n) { this.nzOffset = this.$elem.offset(); this.tintpos = String(-1 * (n.pageX - this.nzOffset.left - this.zoomLens.width() / 2)); this.tintposy = String(-1 * (n.pageY - this.nzOffset.top - this.zoomLens.height() / 2)); this.Etoppos && (this.tintposy = 0); this.Eloppos && (this.tintpos = 0); this.Eboppos && (this.tintposy = -1 * (this.nzHeight - this.zoomLens.height() - 2 * this.options.lensBorderSize)); this.Eroppos && (this.tintpos = -1 * (this.nzWidth - this.zoomLens.width() - 2 * this.options.lensBorderSize)); this.options.tint && (this.zoomTint.css({ opacity: this.options.tintOpacity }).animate().fadeIn("slow"), this.zoomTintImage.css({ left: this.tintpos - this.options.lensBorderSize + "px" }), this.zoomTintImage.css({ top: this.tintposy - this.options.lensBorderSize + "px" })) }, swaptheimage: function (n, t) { var i = this, r = new Image; i.options.onImageSwap(i.$elem); r.onload = function () { i.largeWidth = r.width; i.largeHeight = r.height; i.zoomImage = t; i.zoomWindow.css({ "background-size": i.largeWidth + "px " + i.largeHeight + "px" }); i.swapAction(n, t) }; r.src = t }, swapAction: function (n, t) { var i = this, r = new Image; r.onload = function () { i.nzHeight = r.height; i.nzWidth = r.width; i.options.onImageSwapComplete(i.$elem); i.doneCallback() }; r.src = n; i.zoomWindow.css({ backgroundImage: "url('" + t + "')" }); i.currentImage = t; i.$elem.attr("src", n) }, doneCallback: function () { this.options.tint && (this.zoomTintImage.attr("src", largeimage), this.zoomTintImage.attr("height", this.$elem.height()), this.zoomTintImage.css({ height: this.$elem.height() }), this.zoomTint.css({ height: this.$elem.height() })); this.nzOffset = this.$elem.offset(); this.nzWidth = this.$elem.width(); this.nzHeight = this.$elem.height(); this.widthRatio = this.largeWidth / this.nzWidth; this.heightRatio = this.largeHeight / this.nzHeight; lensHeight = this.nzHeight < this.options.zoomWindowWidth / this.widthRatio ? this.nzHeight : String(this.options.zoomWindowHeight / this.heightRatio); lensWidth = this.largeWidth < this.options.zoomWindowWidth ? this.nzHWidth : this.options.zoomWindowWidth / this.widthRatio; this.zoomLens && (this.zoomLens.css("width", lensWidth), this.zoomLens.css("height", lensHeight)) }, getCurrentImage: function () { return this.zoomImage }, getGalleryList: function () { var t = this; return t.gallerylist = [], t.options.gallery ? n("#" + t.options.gallery + " a").each(function () { var i = ""; n(this).data("zoom-image") ? i = n(this).data("zoom-image") : n(this).data("image") && (i = n(this).data("image")); i == t.zoomImage ? t.gallerylist.unshift({ href: "" + i + "", title: n(this).find("img").attr("title") }) : t.gallerylist.push({ href: "" + i + "", title: n(this).find("img").attr("title") }) }) : t.gallerylist.push({ href: "" + t.zoomImage + "", title: n(this).find("img").attr("title") }), t.gallerylist }, changeZoomLevel: function (n) { this.widthRatio = this.largeWidth / n / this.nzWidth; this.heightRatio = this.largeHeight / n / this.nzHeight; this.zoomWindow.css({ "background-size": this.largeWidth / n + "px " + this.largeHeight / n + "px" }); this.zoomLens.css({ width: String(this.options.zoomWindowWidth / this.widthRatio) + "px", height: String(this.options.zoomWindowHeight / this.heightRatio) + "px" }); this.options.zoomLevel = n }, closeAll: function () { self.zoomWindow && self.zoomWindow.hide(); self.zoomLens && self.zoomLens.hide(); self.zoomTint && self.zoomTint.hide() } }; n.fn.elevateZoom = function (i) { return this.each(function () { var r = Object.create(t); r.init(i, this); n.data(this, "elevateZoom", r) }) }; n.fn.elevateZoom.options = { zoomLevel: 1, easing: !1, easingAmount: 12, lensSize: 200, zoomWindowWidth: 400, zoomWindowHeight: 400, zoomWindowOffetx: 0, zoomWindowOffety: 0, zoomWindowPosition: 1, zoomWindowBgColour: "#fff", lensFadeIn: !1, lensFadeOut: !1, debug: !1, zoomWindowFadeIn: !1, zoomWindowFadeOut: !1, zoomWindowAlwaysShow: !1, zoomTintFadeIn: !1, zoomTintFadeOut: !1, borderSize: 4, showLens: !0, borderColour: "#888", lensBorderSize: 1, lensBorderColour: "#000", lensShape: "square", zoomType: "window", containLensZoom: !1, lensColour: "white", lensOpacity: .4, lenszoom: !1, tint: !1, tintColour: "#333", tintOpacity: .4, gallery: !1, galleryActiveClass: "zoomGalleryActive", cursor: "default", responsive: !1, onComplete: n.noop, onZoomedImageLoaded: function () { }, onImageSwap: n.noop, onImageSwapComplete: n.noop } }(jQuery, window, document)
